var TcHmi;!function(i){var t,e,r,o;function n(t,e,o){var n=r.call(this,t,e,o)||this;return n.__objectResolvers=new Map,n.__onResolverForContentPaddingWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__contentPadding)||(n.__contentPadding=t.value,i.EventProvider.raise(n.__id+".onFunctionResultChanged",["getContentPadding"]),n.__processContentPadding())},n.__onResolverForTextColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__textColor)||(n.__textColor=t.value,i.EventProvider.raise(n.__id+".onFunctionResultChanged",["getTextColor"]),n.__processTextColor())},n}t=i.Controls||(i.Controls={}),e=t.Beckhoff||(t.Beckhoff={}),r=i.Controls.System.TcHmiControl,__extends(n,r),n.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".tchmi-textblock-template"),this.__elementTextContainer=this.__elementTemplateRoot.find(".tchmi-textblock-template-text-container"),0===this.__elementTemplateRoot.length||0===this.__elementTextContainer.length)throw new Error("Invalid Template.html");r.prototype.__previnit.call(this)},n.prototype.__init=function(){r.prototype.__init.call(this)},n.prototype.__attach=function(){r.prototype.__attach.call(this),"Content"===this.getHeightMode()&&this.__processHeight(),this.__objectResolvers.forEach(function(t){return t.resolver.watch(t.watchCallback)})},n.prototype.__detach=function(){r.prototype.__detach.call(this),this.__objectResolvers.forEach(function(t){t.watchDestroyer&&(t.watchDestroyer(),t.watchDestroyer=null)}),this.__onResizedEventDestroyEvent&&(this.__onResizedEventDestroyEvent(),this.__onResizedEventDestroyEvent=void 0)},n.prototype.destroy=function(){this.__objectResolvers.forEach(function(t){t.watchDestroyer&&t.watchDestroyer(),t.resolver.destroy()}),this.__objectResolvers.clear(),r.prototype.destroy.call(this)},n.prototype.__processWidth=function(){r.prototype.__processWidth.call(this),"Content"===this.getHeightMode()&&this.__processHeight()},n.prototype.setHeightMode=function(t){var e=i.ValueConverter.toSizeModeWithContent(t);null===e&&(e=this.getAttributeDefaultValueInternal("HeightMode")),e!==this.__heightMode&&(this.__heightMode=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeightMode"]),this.__processHeightMode())},n.prototype.__processHeight=function(){if("Content"===this.getHeightMode()){this.__intHeight=null;var t=this.__getContentHeight();null!==t&&(this.__intHeight=t+"px")}r.prototype.__processHeight.call(this)},n.prototype.__onResized=function(){var o=this;return function(t,e){o.__processHeight()}},n.prototype.__getContentHeight=function(){function t(){e.__onResizedEventDestroyEvent&&(e.__onResizedEventDestroyEvent(),e.__onResizedEventDestroyEvent=void 0)}var e=this;return"Content"!==this.getHeightMode()?(t(),r.prototype.__getContentHeight.call(this)):!1!==this.__isAttached&&this.__text?(this.__onResizedEventDestroyEvent||(this.__onResizedEventDestroyEvent=i.EventProvider.register(this.__id+".onResized",this.__onResized())),this.__elementTextContainer.outerHeight()):(t(),null)},n.prototype.setText=function(t){var e=i.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("Text")),e!==this.__text&&(this.__text=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getText"]),this.__processText())},n.prototype.getText=function(){return this.__text},n.prototype.__processText=function(){var t="";this.__text&&(t=tchmi_encode_html(this.__text),t=tchmi_text_to_html(t)),this.__elementTextContainer[0].innerHTML=t,"Content"===this.getHeightMode()&&this.__processHeight()},n.prototype.setTextHorizontalAlignment=function(t){var e=i.ValueConverter.toHorizontalAlignment(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextHorizontalAlignment")),e!==this.__textHorizontalAlignment&&(this.__textHorizontalAlignment=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextHorizontalAlignment"]),this.__processTextHorizontalAlignment())},n.prototype.getTextHorizontalAlignment=function(){return this.__textHorizontalAlignment},n.prototype.__processTextHorizontalAlignment=function(){i.StyleProvider.setSimpleElementStyle(this.__elementTemplateRoot,"text-align",this.__textHorizontalAlignment?this.__textHorizontalAlignment.toLowerCase():null)},n.prototype.setTextVerticalAlignment=function(t){var e=i.ValueConverter.toVerticalAlignment(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextVerticalAlignment")),e!==this.__textVerticalAlignment&&(this.__textVerticalAlignment=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextVerticalAlignment"]),this.__processTextVerticalAlignment())},n.prototype.getTextVerticalAlignment=function(){return this.__textVerticalAlignment},n.prototype.__processTextVerticalAlignment=function(){i.StyleProvider.processContentVerticalAlignment(this.__elementTemplateRoot,this.__textVerticalAlignment)},n.prototype.setTextFontSize=function(t){var e=i.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextFontSize")),e!==this.__textFontSize&&(this.__textFontSize=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontSize"]),this.__processTextFontSize())},n.prototype.getTextFontSize=function(){return this.__textFontSize},n.prototype.__processTextFontSize=function(){i.StyleProvider.processFontSize(this.__elementTemplateRoot,this.__textFontSize,this.__textFontSizeUnit)},n.prototype.setTextFontSizeUnit=function(t){var e=i.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextFontSizeUnit")),e!==this.__textFontSizeUnit&&(this.__textFontSizeUnit=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontSizeUnit"]),this.__processTextFontSizeUnit())},n.prototype.getTextFontSizeUnit=function(){return this.__textFontSizeUnit},n.prototype.__processTextFontSizeUnit=function(){i.StyleProvider.processFontSize(this.__elementTemplateRoot,this.__textFontSize,this.__textFontSizeUnit)},n.prototype.setTextFontFamily=function(t){var e=i.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextFontFamily")),e!==this.__textFontFamily&&(this.__textFontFamily=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontFamily"]),this.__processTextFontFamily())},n.prototype.getTextFontFamily=function(){return this.__textFontFamily},n.prototype.__processTextFontFamily=function(){i.StyleProvider.processFontFamily(this.__elementTemplateRoot,this.__textFontFamily)},n.prototype.setTextFontStyle=function(t){var e=i.ValueConverter.toFontStyle(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextFontStyle")),e!==this.__textFontStyle&&(this.__textFontStyle=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontStyle"]),this.__processTextFontStyle())},n.prototype.getTextFontStyle=function(){return this.__textFontStyle},n.prototype.__processTextFontStyle=function(){i.StyleProvider.processFontStyle(this.__elementTemplateRoot,this.__textFontStyle)},n.prototype.setTextFontWeight=function(t){var e=i.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextFontWeight")),e!==this.__textFontWeight&&(this.__textFontWeight=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontWeight"]),this.__processTextFontWeight())},n.prototype.getTextFontWeight=function(){return this.__textFontWeight},n.prototype.__processTextFontWeight=function(){i.StyleProvider.processFontWeight(this.__elementTemplateRoot,this.__textFontWeight)},n.prototype.setContentPadding=function(t){var e=i.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("ContentPadding"));var o=this.__objectResolvers.get("contentPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new i.Symbol.ObjectResolver(e);this.__objectResolvers.set("contentPadding",{resolver:n,watchCallback:this.__onResolverForContentPaddingWatchCallback,watchDestroyer:n.watch(this.__onResolverForContentPaddingWatchCallback)})},n.prototype.getContentPadding=function(){return this.__contentPadding},n.prototype.__processContentPadding=function(){i.StyleProvider.processContentPadding(this.__elementTemplateRoot,this.__contentPadding)},n.prototype.setTextColor=function(t){var e=i.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("TextColor"));var o=this.__objectResolvers.get("textColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new i.Symbol.ObjectResolver(e);this.__objectResolvers.set("textColor",{resolver:n,watchCallback:this.__onResolverForTextColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTextColorWatchCallback)})},n.prototype.getTextColor=function(){return this.__textColor},n.prototype.__processTextColor=function(){i.StyleProvider.processTextColor(this.__elementTemplateRoot,this.__textColor)},n.prototype.setWordWrap=function(t){var e=i.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("WordWrap")),e!==this.__wordWrap&&(this.__wordWrap=e,i.EventProvider.raise(this.__id+".onFunctionResultChanged",["getWordWrap"]),this.__processWordWrap())},n.prototype.getWordWrap=function(){return this.__wordWrap},n.prototype.__processWordWrap=function(){this.__wordWrap?i.StyleProvider.setSimpleElementStyle(this.__elementTextContainer,{"white-space":"pre-wrap","word-wrap":"break-word","overflow-wrap":"break-word"}):i.StyleProvider.setSimpleElementStyle(this.__elementTextContainer,{"white-space":"nowrap","word-wrap":null,"overflow-wrap":null})},o=n,e.TcHmiTextblock=o,t.register("tchmi-textblock",i.Controls.Beckhoff.TcHmiTextblock,"Beckhoff/TcHmiTextblock/","Beckhoff/TcHmiTextblock/Template.html")}(TcHmi=TcHmi||{});