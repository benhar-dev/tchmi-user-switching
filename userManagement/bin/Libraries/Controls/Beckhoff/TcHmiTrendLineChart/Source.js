var TcHmi;!function(et){var t,e,o,i,n,s,r,a,l,_;function it(t,e,i){var n=o.call(this,t,e,i)||this;n.__lineChart=null,n.__menuBarControls=[],n.__lineGraphData=null,n.__lineGraphRawData=null,n.__internalStart=null,n.__internalEnd=null,n.__internalStartServer=null,n.__internalEndServer=null,n.__actualStartTime=null,n.__actualEndTime=null,n.__startBeforeManipulation=null,n.__endBeforeManipulation=null,n.__mouseMode=it.MouseMode.PanX,n.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},n.__multitouchInfo={multitouchMode:!1,first:{identifier:null},second:{identifier:null},offset:{left:0,top:0},distance:0,newStart:null,newTimespan:null,newYAxis:null},n.__wheelInfo={isWheeling:!1,wheelSteps:0,mousePosition:{x:0,y:0},timespan:null,timeout:0},n.__zoomingCanvasContext=null,n.__lastInteraction=!1,n.__startEndBeforeZoom={end:null,start:null},n.__resizeEventDestroyEvent=null,n.__themeDataLoadedEventDestroyEvent=null,n.__onWebSocketOpenedDestroyEvent=null,n.__onWebSocketErrorDestroyEvent=null,n.__subscriptionId=null,n.__requestId=null,n.__getDataCounter=0,n.__internalYAxis=null,n.__internalLineGraphDescription=null,n.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},n.__startDatatype=null,n.__endDatatype=null,n.__utcOffset=0,n.__onAttachedMenuButtonsEvent=null,n.__onPressedStopDestroyEvent=null,n.__onPressedTimespanStartDestroyEvent=null,n.__onPressedDatetimeStartDestroyEvent=null,n.__onPressedTimespanEndDestroyEvent=null,n.__onPressedDatetimeEndDestroyEvent=null,n.__onIsActiveChagedPanxDestroyEvent=null,n.__onIsActiveChagedPanxyDestroyEvent=null,n.__onIsActiveChagedZoomxDestroyEvent=null,n.__onIsActiveChagedZoomxyDestroyEvent=null,n.__onPressedResetZoomDestroyEvent=null,n.__onPressedResetDestroyEvent=null,n.__onPressedOptionsDestroyEvent=null,n.__onUserInteractionFinishedStartDestroyEvent=null,n.__onUserInteractionFinishedEndDestroyEvent=null,n.__onValueChangedTimespanStartDestroyEvent=null,n.__onValueChangedTimespanEndDestroyEvent=null,n.__onValueChangedDatetimeStartDestroyEvent=null,n.__onValueChangedDatetimeEndDestroyEvent=null,n.__nowIsValueChanged=!1,n.__loadingSpinner=null,n.__holdTimer=0,n.__holdTimerDuration=300,n.__objectResolvers=new Map,n.__onResolverForXAxisFormatWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__xAxisFormat)||(n.__xAxisFormat=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getXAxisFormat"]),n.__processXAxisFormat())},n.__onResolverForSectionsBackgroundColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__sectionsBackgroundColor)||(n.__sectionsBackgroundColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getSectionsBackgroundColor"]),n.__processSectionsBackgroundColor())},n.__onResolverForXLabelFontColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__xLabelFontColor)||(n.__xLabelFontColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getXLabelFontColor"]),n.__processXLabelFontColor())},n.__onResolverForXAxisColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__xAxisColor)||(n.__xAxisColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getXAxisColor"]),n.__processXAxisColor())},n.__onResolverForXAxisNameFontColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__xAxisNameFontColor)||(n.__xAxisNameFontColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getXAxisNameFontColor"]),n.__processXAxisNameFontColor())},n.__onResolverForYAxisWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__yAxis)||(n.__yAxis=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getYAxis"]),n.__processYAxis())},n.__onResolverForLineGraphDescriptionsWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__lineGraphDescriptions)||(n.__lineGraphDescriptions=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getLineGraphDescriptions"]),n.__processLineGraphDescriptions())},n.__onResolverForGridBackgroundColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__gridBackgroundColor)||(n.__gridBackgroundColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getGridBackgroundColor"]),n.__processGridBackgroundColor())},n.__onResolverForGridLineColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__gridLineColor)||(n.__gridLineColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getGridLineColor"]),n.__processGridLineColor())},n.__onResolverForSubgridLineColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__subgridLineColor)||(n.__subgridLineColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getSubgridLineColor"]),n.__processSubgridLineColor())},n.__onResolverForMenuBarLabelFontColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__menuBarLabelFontColor)||(n.__menuBarLabelFontColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getMenuBarLabelFontColor"]),n.__processMenuBarLabelFontColor())},n.__onResolverForTooltipFormatWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__tooltipFormat)||(n.__tooltipFormat=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getTooltipFormat"]),n.__processTooltipFormat())},n.__onResolverForTooltipFontColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__tooltipFontColor)||(n.__tooltipFontColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getTooltipFontColor"]),n.__processTooltipFontColor())},n.__onResolverForTooltipBackgroundColorWatchCallback=function(t){!1===n.__isAttached&&t.destroy&&t.destroy(),tchmi_equal(t.value,n.__tooltipBackgroundColor)||(n.__tooltipBackgroundColor=t.value,et.EventProvider.raise(n.__id+".onFunctionResultChanged",["getTooltipBackgroundColor"]),n.__processTooltipBackgroundColor())};et.System.Services.controlManager;return n.__clickHandler=n.__onClick(),n.__mousedownHandler=n.__onMouseDown(),n.__mouseupHandler=n.__onMouseUp(),n.__mousemoveHandler=n.__onMouseMove(),n.__touchstartHandler=n.__onTouchStart(),n.__touchmoveHandler=n.__onTouchMove(),n.__touchendHandler=n.__onTouchEnd(),n.__mousemoveTooltipHandler=n.__onMouseMoveTooltip(),n.__mousewheelHandler=n.__onMouseWheel(),n}t=et.Controls||(et.Controls={}),e=t.Beckhoff||(t.Beckhoff={}),o=et.Controls.System.TcHmiControl,__extends(it,o),it.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".tchmi-trend-line-chart-template"),this.__elementChart=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-chart"),this.__elementMenuBar=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-menu-bar"),this.__elementTooltip=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-tooltip"),this.__elementTooltipText=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-tooltip-text"),this.__elementTooltipArrow=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-tooltip-arrow"),this.__elementLoading=this.__elementTemplateRoot.find(".tchmi-trend-line-chart-template-loading"),this.__elementMenuBarDropdown=$('<div class="tchmi-trend-line-chart-template-menu-bar-dropdown tchmi-box"></div>'),0===this.__elementTemplateRoot.length||0===this.__elementChart.length||0===this.__elementMenuBar.length||0===this.__elementTooltip.length||0===this.__elementTooltipText.length||0===this.__elementTooltipArrow.length||0===this.__elementLoading.length||0===this.__elementMenuBarDropdown.length)throw new Error("Invalid Template.html");if("undefined"==typeof TcHmiCharting)throw new Error("Missing needed TcHmiCharting library");var t=et.Theme.Resources.get(this,"LoadingTheme");t.value?this.__loadingSpinner=new et.LoadingSpinner(this.__elementLoading,t.value):this.__loadingSpinner=new et.LoadingSpinner(this.__elementLoading),o.prototype.__previnit.call(this)},it.prototype.__init=function(){o.prototype.__init.call(this),this.__showMenuBar&&this.__addMenuBarControls()},it.prototype.__addMenuBarControls=function(){var t=$("<label for='"+this.__id+"_startCombobox'>Start:</label>"),e=et.ControlFactory.createEx("tchmi-combobox",this.__id+"_startCombobox",{"data-tchmi-tooltip":"Datetime, Timespan or First","data-tchmi-text-font-size":11,"data-tchmi-allow-text-input":!0,"data-tchmi-src-data":["First"]},this);if(void 0===e)throw new Error("Needed Combobox could not be instantiated");e.getElement().addClass("tchmi-trend-line-chart-template-start-combobox"),this.__elementMenuBar.append(t),this.__elementMenuBar.append(e.getElement()),this.__menuBarControls.push(e);var i=this.__start;null==i&&(i=""),"First"===i?e.setSelectedIndex(0):(this.isDatetime(i)&&(i=this.__moveUtcToTimeZone(i)),e.setText(i));var n=et.ControlFactory.createEx("tchmi-timespan-picker",this.__id+"_timespanStart",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===n)throw new Error("Needed TimespanPicker could not be instantiated");n.getElement().addClass("tchmi-trend-line-chart-template-timespan-picker-start"),this.__elementMenuBar.append(n.getElement()),this.__menuBarControls.push(n),this.__startDatatype===it.Datatype.Timespan&&this.__start&&n.setValue(this.__start);var o=et.ControlFactory.createEx("tchmi-button",this.__id+"_timespanButtonStart",{"data-tchmi-tooltip":"Choose Timespan for start."},this);if(void 0===o)throw new Error("Needed Button could not be instantiated");o.getElement().addClass("tchmi-trend-line-chart-template-timespan-button-start"),this.__elementMenuBar.append(o.getElement()),this.__menuBarControls.push(o);var s=et.ControlFactory.createEx("tchmi-date-time-picker",this.__id+"_datetimeStart",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===s)throw new Error("Needed DateTimePicker could not be instantiated");s.getElement().addClass("tchmi-trend-line-chart-template-date-time-picker-start"),this.__elementMenuBar.append(s.getElement()),this.__menuBarControls.push(s),this.__startDatatype===it.Datatype.Datetime&&this.__start&&s.setValue(this.__start);var r=et.ControlFactory.createEx("tchmi-button",this.__id+"_datetimeButtonStart",{"data-tchmi-tooltip":"Choose Datetime for start."},this);if(void 0===r)throw new Error("Needed Button could not be instantiated");r.getElement().addClass("tchmi-trend-line-chart-template-datetime-button-start"),this.__elementMenuBar.append(r.getElement()),this.__menuBarControls.push(r);var a=$("<label for='"+this.__id+"_endCombobox'>End:</label>"),l=et.ControlFactory.createEx("tchmi-combobox",this.__id+"_endCombobox",{"data-tchmi-tooltip":"Datetime, Timespan or Latest","data-tchmi-text-font-size":11,"data-tchmi-allow-text-input":!0,"data-tchmi-src-data":["Latest"]},this);if(void 0===l)throw new Error("Needed Combobox could not be instantiated");l.getElement().addClass("tchmi-trend-line-chart-template-end-combobox"),this.__elementMenuBar.append(a),this.__elementMenuBar.append(l.getElement()),this.__menuBarControls.push(l);var _=this.__end;null==_&&(_=""),"Latest"===_?l.setSelectedIndex(0):(this.isDatetime(_)&&(_=this.__moveUtcToTimeZone(_)),l.setText(_));var h=et.ControlFactory.createEx("tchmi-timespan-picker",this.__id+"_timespanEnd",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===h)throw new Error("Needed TimespanPicker could not be instantiated");h.getElement().addClass("tchmi-trend-line-chart-template-timespan-picker-end"),this.__elementMenuBar.append(h.getElement()),this.__menuBarControls.push(h),this.__endDatatype===it.Datatype.Timespan&&this.__end&&h.setValue(this.__end);var u=et.ControlFactory.createEx("tchmi-button",this.__id+"_timespanButtonEnd",{"data-tchmi-tooltip":"Choose Timespan for end."},this);if(void 0===u)throw new Error("Needed Button could not be instantiated");u.getElement().addClass("tchmi-trend-line-chart-template-timespan-button-end"),this.__elementMenuBar.append(u.getElement()),this.__menuBarControls.push(u);var d=et.ControlFactory.createEx("tchmi-date-time-picker",this.__id+"_datetimeEnd",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===d)throw new Error("Needed DateTimePicker could not be instantiated");d.getElement().addClass("tchmi-trend-line-chart-template-date-time-picker-end"),this.__elementMenuBar.append(d.getElement()),this.__menuBarControls.push(d),this.__endDatatype===it.Datatype.Datetime&&this.__end&&d.setValue(this.__end);var c=et.ControlFactory.createEx("tchmi-button",this.__id+"_datetimeButtonEnd",{"data-tchmi-tooltip":"Choose Datetime for end."},this);if(void 0===c)throw new Error("Needed Button could not be instantiated");c.getElement().addClass("tchmi-trend-line-chart-template-datetime-button-end"),this.__elementMenuBar.append(c.getElement()),this.__menuBarControls.push(c);var p=et.ControlFactory.createEx("tchmi-button",this.__id+"_resetButton",{"data-tchmi-tooltip":"Play","data-tchmi-is-enabled":!1},this);if(void 0===p)throw new Error("Needed Button could not be instantiated");p.getElement().addClass("tchmi-trend-line-chart-template-reset"),this.__elementMenuBar.append(p.getElement()),this.__menuBarControls.push(p);var m=et.ControlFactory.createEx("tchmi-button",this.__id+"_stopButton",{"data-tchmi-tooltip":"Pause","data-tchmi-is-enabled":!1},this);if(void 0===m)throw new Error("Needed Button could not be instantiated");m.getElement().addClass("tchmi-trend-line-chart-template-stop"),this.__elementMenuBar.append(m.getElement()),this.__menuBarControls.push(m);var g=et.ControlFactory.createEx("tchmi-toggle-button",this.__id+"_panxButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"PanX"},this);if(void 0===g)throw new Error("Needed ToggleButton could not be instantiated");g.getElement().addClass("tchmi-trend-line-chart-template-panx"),this.__elementMenuBar.append(g.getElement()),this.__menuBarControls.push(g);var v=et.ControlFactory.createEx("tchmi-toggle-button",this.__id+"_panxyButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"PanXY"},this);if(void 0===v)throw new Error("Needed ToggleButton could not be instantiated");v.getElement().addClass("tchmi-trend-line-chart-template-panxy"),this.__elementMenuBar.append(v.getElement()),this.__menuBarControls.push(v);var C=et.ControlFactory.createEx("tchmi-toggle-button",this.__id+"_zoomxButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"ZoomX"},this);if(void 0===C)throw new Error("Needed ToggleButton could not be instantiated");C.getElement().addClass("tchmi-trend-line-chart-template-zoomx"),this.__elementMenuBar.append(C.getElement()),this.__menuBarControls.push(C);var f=et.ControlFactory.createEx("tchmi-toggle-button",this.__id+"_zoomxyButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"ZoomXY"},this);if(void 0===f)throw new Error("Needed ToggleButton could not be instantiated");f.getElement().addClass("tchmi-trend-line-chart-template-zoomxy"),this.__elementMenuBar.append(f.getElement()),this.__menuBarControls.push(f);var S=et.ControlFactory.createEx("tchmi-button",this.__id+"_resetZoomButton",{"data-tchmi-tooltip":"Reset zooming and panning","data-tchmi-is-enabled":!1},this);if(void 0===S)throw new Error("Needed Button could not be instantiated");S.getElement().addClass("tchmi-trend-line-chart-template-reset-zoom"),this.__elementMenuBar.append(S.getElement()),this.__menuBarControls.push(S);var y=et.ControlFactory.createEx("tchmi-button",this.__id+"_optionsButton",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===y)throw new Error("Needed Button could not be instantiated");y.getElement().addClass("tchmi-trend-line-chart-template-options"),this.__elementMenuBar.append(y.getElement()),this.__menuBarControls.push(y);var b=this.__id+"_panxButton";this.__mouseMode===it.MouseMode.PanXY?b=this.__id+"_panxyButton":this.__mouseMode===it.MouseMode.ZoomX?b=this.__id+"_zoomxButton":this.__mouseMode===it.MouseMode.ZoomXY&&(b=this.__id+"_zoomxyButton");for(var x=0,T=this.__menuBarControls.length;x<T;x++)if("tchmi-toggle-button"===this.__menuBarControls[x].getType()){var A=this.__menuBarControls[x];A.setToggleGroup(this.__id+".interactions"),this.__menuBarControls[x].getId()===b&&A.setToggleState("Active")}},it.prototype.__attach=function(){o.prototype.__attach.call(this),this.__resizeEventDestroyEvent=et.EventProvider.register(this.__id+".onResized",this.__rebuild()),this.__themeDataLoadedEventDestroyEvent=et.EventProvider.register("onThemeDataChanged",this.__rebuild()),this.__onPressedStopDestroyEvent=et.EventProvider.register(this.__id+"_stopButton.onPressed",this.__onPressed()),this.__onPressedTimespanStartDestroyEvent=et.EventProvider.register(this.__id+"_timespanButtonStart.onPressed",this.__onPressed()),this.__onPressedDatetimeStartDestroyEvent=et.EventProvider.register(this.__id+"_datetimeButtonStart.onPressed",this.__onPressed()),this.__onPressedTimespanEndDestroyEvent=et.EventProvider.register(this.__id+"_timespanButtonEnd.onPressed",this.__onPressed()),this.__onPressedDatetimeEndDestroyEvent=et.EventProvider.register(this.__id+"_datetimeButtonEnd.onPressed",this.__onPressed()),this.__onIsActiveChagedPanxDestroyEvent=et.EventProvider.register(this.__id+"_panxButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedPanxyDestroyEvent=et.EventProvider.register(this.__id+"_panxyButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedZoomxDestroyEvent=et.EventProvider.register(this.__id+"_zoomxButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedZoomxyDestroyEvent=et.EventProvider.register(this.__id+"_zoomxyButton.onStateChanged",this.__onIsActiveChaged()),this.__onPressedResetZoomDestroyEvent=et.EventProvider.register(this.__id+"_resetZoomButton.onPressed",this.__onPressed()),this.__onPressedResetDestroyEvent=et.EventProvider.register(this.__id+"_resetButton.onPressed",this.__onPressed()),this.__onPressedOptionsDestroyEvent=et.EventProvider.register(this.__id+"_optionsButton.onPressed",this.__onPressed()),this.__onUserInteractionFinishedStartDestroyEvent=et.EventProvider.register(this.__id+"_startCombobox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedEndDestroyEvent=et.EventProvider.register(this.__id+"_endCombobox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onValueChangedDatetimeEndDestroyEvent=et.EventProvider.register(this.__id+"_datetimeEnd.onValueChanged",this.__onValueChanged()),this.__onValueChangedDatetimeStartDestroyEvent=et.EventProvider.register(this.__id+"_datetimeStart.onValueChanged",this.__onValueChanged()),this.__onValueChangedTimespanEndDestroyEvent=et.EventProvider.register(this.__id+"_timespanEnd.onValueChanged",this.__onValueChanged()),this.__onValueChangedTimespanStartDestroyEvent=et.EventProvider.register(this.__id+"_timespanStart.onValueChanged",this.__onValueChanged());var t={passive:!0,capture:!1},e={passive:!1,capture:!1};document.addEventListener("mousemove",this.__mousemoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),document.addEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),document.addEventListener("touchmove",this.__touchmoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),document.addEventListener("touchend",this.__touchendHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),this.__objectResolvers.forEach(function(t){return t.resolver.watch(t.watchCallback)}),this.__processShowMenuBar(),this.__processMenuBarPosition(),this.__processMenuBarLabelFontFamily(!1),this.__processMenuBarLabelFontSize(!1),this.__processMenuBarLabelFontSizeUnit(!1),this.__processMenuBarLabelFontStyle(!1),this.__processMenuBarLabelFontWeight(!1),this.__processMenuBarLabelFontColor(!1),this.__calcMenuButtons(),this.__lineGraphDescriptions&&0<this.__lineGraphDescriptions.length&&this.__openWebsocket()},it.prototype.__detach=function(){o.prototype.__detach.call(this),null!==this.__resizeEventDestroyEvent&&(this.__resizeEventDestroyEvent(),this.__resizeEventDestroyEvent=null),null!==this.__themeDataLoadedEventDestroyEvent&&(this.__themeDataLoadedEventDestroyEvent(),this.__themeDataLoadedEventDestroyEvent=null),null!==this.__onAttachedMenuButtonsEvent&&(this.__onAttachedMenuButtonsEvent(),this.__onAttachedMenuButtonsEvent=null),null!==this.__onPressedStopDestroyEvent&&(this.__onPressedStopDestroyEvent(),this.__onPressedStopDestroyEvent=null),null!==this.__onPressedTimespanStartDestroyEvent&&(this.__onPressedTimespanStartDestroyEvent(),this.__onPressedTimespanStartDestroyEvent=null),null!==this.__onPressedDatetimeStartDestroyEvent&&(this.__onPressedDatetimeStartDestroyEvent(),this.__onPressedDatetimeStartDestroyEvent=null),null!==this.__onPressedTimespanEndDestroyEvent&&(this.__onPressedTimespanEndDestroyEvent(),this.__onPressedTimespanEndDestroyEvent=null),null!==this.__onPressedDatetimeEndDestroyEvent&&(this.__onPressedDatetimeEndDestroyEvent(),this.__onPressedDatetimeEndDestroyEvent=null),null!==this.__onIsActiveChagedPanxDestroyEvent&&(this.__onIsActiveChagedPanxDestroyEvent(),this.__onIsActiveChagedPanxDestroyEvent=null),null!==this.__onIsActiveChagedPanxyDestroyEvent&&(this.__onIsActiveChagedPanxyDestroyEvent(),this.__onIsActiveChagedPanxyDestroyEvent=null),null!==this.__onIsActiveChagedZoomxDestroyEvent&&(this.__onIsActiveChagedZoomxDestroyEvent(),this.__onIsActiveChagedZoomxDestroyEvent=null),null!==this.__onIsActiveChagedZoomxyDestroyEvent&&(this.__onIsActiveChagedZoomxyDestroyEvent(),this.__onIsActiveChagedZoomxyDestroyEvent=null),null!==this.__onPressedResetZoomDestroyEvent&&(this.__onPressedResetZoomDestroyEvent(),this.__onPressedResetZoomDestroyEvent=null),null!==this.__onPressedResetDestroyEvent&&(this.__onPressedResetDestroyEvent(),this.__onPressedResetDestroyEvent=null),null!==this.__onPressedOptionsDestroyEvent&&(this.__onPressedOptionsDestroyEvent(),this.__onPressedOptionsDestroyEvent=null),null!==this.__onWebSocketOpenedDestroyEvent&&(this.__onWebSocketOpenedDestroyEvent(),this.__onWebSocketOpenedDestroyEvent=null),null!==this.__onWebSocketErrorDestroyEvent&&(this.__onWebSocketErrorDestroyEvent(),this.__onWebSocketErrorDestroyEvent=null),null!==this.__onUserInteractionFinishedStartDestroyEvent&&(this.__onUserInteractionFinishedStartDestroyEvent(),this.__onUserInteractionFinishedStartDestroyEvent=null),null!==this.__onUserInteractionFinishedEndDestroyEvent&&(this.__onUserInteractionFinishedEndDestroyEvent(),this.__onUserInteractionFinishedEndDestroyEvent=null),null!==this.__onValueChangedDatetimeStartDestroyEvent&&(this.__onValueChangedDatetimeStartDestroyEvent(),this.__onValueChangedDatetimeStartDestroyEvent=null),null!==this.__onValueChangedDatetimeEndDestroyEvent&&(this.__onValueChangedDatetimeEndDestroyEvent(),this.__onValueChangedDatetimeEndDestroyEvent=null),null!==this.__onValueChangedTimespanStartDestroyEvent&&(this.__onValueChangedTimespanStartDestroyEvent(),this.__onValueChangedTimespanStartDestroyEvent=null),null!==this.__onValueChangedTimespanEndDestroyEvent&&(this.__onValueChangedTimespanEndDestroyEvent(),this.__onValueChangedTimespanEndDestroyEvent=null),null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),null!==this.__requestId&&(et.Server.releaseRequest(this.__requestId),this.__requestId=null);var t={passive:!0,capture:!1},e={passive:!1,capture:!1};if(document.removeEventListener("mousemove",this.__mousemoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),document.removeEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),document.removeEventListener("touchmove",this.__touchmoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),document.removeEventListener("touchend",this.__touchendHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),null!==this.__lineChart&&void 0!==this.__lineChart){var i=this.__lineChart.getCanvasDrawing();null!==i&&(i[0].removeEventListener("click",this.__clickHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),i[0].removeEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),i[0].removeEventListener("touchstart",this.__touchstartHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),i[0].removeEventListener("mousemove",this.__mousemoveTooltipHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),i[0].removeEventListener("wheel",this.__mousewheelHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t)),this.__lineChart.remove(),this.__lineChart=null}this.__loadingSpinner&&(this.__loadingSpinner.destroy(),this.__loadingSpinner=null),this.__holdTimer&&(clearTimeout(this.__holdTimer),this.__holdTimer=0),this.__wheelInfo.timeout&&(window.clearTimeout(this.__wheelInfo.timeout),this.__wheelInfo.timeout=0),this.__objectResolvers.forEach(function(t){t.watchDestroyer&&(t.watchDestroyer(),t.watchDestroyer=null)})},it.prototype.destroy=function(){this.__objectResolvers.forEach(function(t){t.watchDestroyer&&t.watchDestroyer(),t.resolver.destroy()}),this.__objectResolvers.clear(),o.prototype.destroy.call(this)},it.prototype.isDatetime=function(t){return!!t&&!isNaN(new Date(t).getTime())},it.prototype.isKeyword=function(t){switch(t){case"Latest":case"First":return!0}return!1},it.prototype.isTimespan=function(t){return!!t&&!this.isKeyword(t)&&!this.isDatetime(t)},it.prototype.__onPressed=function(){var e=this;return function(t){null!==e.__elementMenuBarDropdown[0].parentElement&&e.showOptions(),-1!==t.name.search("stop")?e.stop():-1!==t.name.search("resetZoom")?e.resetZoom():-1!==t.name.search("reset")?e.reset():-1!==t.name.search("options")?e.showOptions():-1!==t.name.search("timespanButtonStart")?e.__menuBarControls[1].openTimespanPicker():-1!==t.name.search("datetimeButtonStart")?e.__menuBarControls[3].openDateTimePicker():-1!==t.name.search("timespanButtonEnd")?e.__menuBarControls[6].openTimespanPicker():-1!==t.name.search("datetimeButtonEnd")&&e.__menuBarControls[8].openDateTimePicker()}},it.prototype.__onUserInteractionFinished=function(){var i=this;return function(t){if(-1!==t.name.search("start"))e=(e=i.__menuBarControls[0].getText())?e.toString():null,i.isDatetime(e)&&(e=i.__moveTimeZoneToUtc(e)),i.setStart(e);else if(-1!==t.name.search("end")){var e;e=(e=i.__menuBarControls[5].getText())?e.toString():null,i.isDatetime(e)&&(e=i.__moveTimeZoneToUtc(e)),i.setEnd(e)}}},it.prototype.__onIsActiveChaged=function(){var s=this;return function(t){for(var e=!1,i=0,n=s.__menuBarControls.length;i<n;i++)s.__menuBarControls[i].getId()===s.__id+"_panxButton"?"Active"===s.__menuBarControls[i].getToggleState()&&(s.__mouseMode=it.MouseMode.PanX,et.EventProvider.raise(s.__id+".onFunctionResultChanged",["getMouseMode"]),e=!0):s.__menuBarControls[i].getId()===s.__id+"_panxyButton"?"Active"===s.__menuBarControls[i].getToggleState()&&(s.__mouseMode=it.MouseMode.PanXY,et.EventProvider.raise(s.__id+".onFunctionResultChanged",["getMouseMode"]),e=!0):s.__menuBarControls[i].getId()===s.__id+"_zoomxButton"?"Active"===s.__menuBarControls[i].getToggleState()&&(s.__mouseMode=it.MouseMode.ZoomX,et.EventProvider.raise(s.__id+".onFunctionResultChanged",["getMouseMode"]),e=!0):s.__menuBarControls[i].getId()===s.__id+"_zoomxyButton"&&"Active"===s.__menuBarControls[i].getToggleState()&&(s.__mouseMode=it.MouseMode.ZoomXY,et.EventProvider.raise(s.__id+".onFunctionResultChanged",["getMouseMode"]),e=!0);if(null!==s.__elementMenuBarDropdown[0].parentElement&&s.showOptions(),!e){var o=s.__menuBarControls[12];null!=o&&o.getId()===s.__id+"_panxButton"&&(s.__mouseMode=it.MouseMode.PanX,et.EventProvider.raise(s.__id+".onFunctionResultChanged",["getMouseMode"]),o.setToggleState("Active"),null!==s.__elementMenuBarDropdown[0].parentElement&&s.showOptions())}}},it.prototype.__onValueChanged=function(){var i=this;return function(t){if(!i.__nowIsValueChanged){if(-1!==t.name.search("timespanStart")){if(i.__menuBarControls[0]&&i.__menuBarControls[1]){i.__nowIsValueChanged=!0;var e=i.__menuBarControls[1].getValue();i.setStart(e)}}else-1!==t.name.search("datetimeStart")?i.__menuBarControls[0]&&i.__menuBarControls[3]&&(i.__nowIsValueChanged=!0,e=i.__menuBarControls[3].getValue(),i.setStart(e)):-1!==t.name.search("timespanEnd")?i.__menuBarControls[5]&&i.__menuBarControls[6]&&(i.__nowIsValueChanged=!0,e=i.__menuBarControls[6].getValue(),i.setEnd(e)):-1!==t.name.search("datetimeEnd")&&i.__menuBarControls[5]&&i.__menuBarControls[8]&&(i.__nowIsValueChanged=!0,e=i.__menuBarControls[8].getValue(),i.setEnd(e));i.__nowIsValueChanged=!1}}},it.prototype.__rebuild=function(){var i=this;return function(t,e){i.__isAttached&&!TCHMI_ENABLE_DESIGNER_MODE_MASTER&&i.__lineGraphDescriptions&&0<i.__lineGraphDescriptions.length?i.__openWebsocket():i.__drawLineChart(),i.__calcMenuButtons()}},it.prototype.__openWebsocket=function(){TCHMI_ENABLE_DESIGNER_MODE_MASTER||(this.__loadingSpinner&&this.__loadingSpinner.run(),null===this.__onWebSocketOpenedDestroyEvent&&(this.__onWebSocketOpenedDestroyEvent=et.EventProvider.register("onWebSocketOpened",this.__onWebSocketOpened())),null===this.__onWebSocketErrorDestroyEvent&&(this.__onWebSocketErrorDestroyEvent=et.EventProvider.register("onWebSocketError",this.__onWebSocketError())),et.Server.getWebsocketReadyState()===WebSocket.OPEN&&this.__getData())},it.prototype.__onWebSocketError=function(){var i=this;return function(t,e){i.__loadingSpinner&&i.__loadingSpinner.stop(),null!==i.__subscriptionId&&(et.Server.unsubscribe(i.__subscriptionId,null),i.__subscriptionId=null)}},it.prototype.__onWebSocketOpened=function(){var e=this;return function(t){e.__getData()}},it.prototype.__milliSecToIso=function(t){var e=!1;t<0&&(e=!0,t*=-1);var i=Math.floor(t/3154e7),n=Math.floor(t%3154e7/2628e6),o=Math.floor(t%3154e7%2628e6/864e5),s=Math.floor(t%3154e7%2628e6%864e5/36e5),r=Math.floor(t%3154e7%2628e6%864e5%36e5/6e4),a=Math.floor(t%3154e7%2628e6%864e5%36e5%6e4/1e3),l=Math.floor(t%3154e7%2628e6%864e5%36e5%6e4%1e3),_="";return e&&(_+="-"),_+="P",0<i&&(_+=i+"Y"),0<n&&(_+=n+"M"),0<o&&(_+=o+"D"),(0<s||0<r||0<a||0<l)&&(_+="T"),0<s&&(_+=s+"H"),0<r&&(_+=r+"M"),(0<a||0===o&&0===s&&0===r)&&(_+=a),0<l&&(_+="."+("00"+l).slice(-3).replace(/\.?0+$/,"")),(0<l||0<a)&&(_+="S"),_},it.prototype.__isoToMilliSec=function(t){for(var e=0,i=0,n=0,o=0,s=0,r=0,a=!1,l=!1,_=t.split(""),h=0,u=_.length;h<u;h++){for(var d=0,c="";"0"<=_[h]&&_[h]<="9"||"."===_[h];)c+=_[h],h++,d=parseFloat(c);switch(_[h]){case"-":a=!0;break;case"Y":r=d;break;case"D":o=d;break;case"T":l=!0;break;case"H":n=d;break;case"M":l?i=d:s=d;break;case"S":e=d}}var p=3154e7*r;return p+=2628e6*s,p+=864e5*o,p+=36e5*n,p+=6e4*i,p+=1e3*e,a&&(p*=-1),p},it.prototype.__getData=function(){if(this.__isAttached&&(this.__tooltipInformation.show&&(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}),null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),null!==this.__lineGraphDescriptions&&void 0!==this.__lineGraphDescriptions)){for(var t=this.__elementTemplateRoot.width(),e=[],i=0,n=this.__lineGraphDescriptions.length;i<n;i++)e.push({symbol:this.__lineGraphDescriptions[i].symbol});var o,s,r=this.__serverDomain+".GetTrendLineData",a=this.__serverDomain+".GetTrendLineWindow";for(o={chartName:this.__id,xAxisStart:this.__internalStart,xAxisEnd:this.__internalEnd,yAxes:e,displayWidth:t},s={chartName:this.__id,xAxisStart:this.__internalStart,xAxisEnd:this.__internalEnd,yAxes:e},i=0,n=this.__menuBarControls.length;i<n;i++)-1===this.__menuBarControls[i].getId().search("options")&&"Visible"===this.__menuBarControls[i].getVisibility()&&this.__menuBarControls[i].setIsEnabled(!1);if("Latest"===this.__internalEnd&&null!==this.__internalStart||null!==this.__internalEnd&&"First"===this.__internalStart)this.__subscriptionId=et.Server.subscribe([{commandOptions:["SendErrorMessage"],symbol:r,writeValue:o},{commandOptions:["SendErrorMessage"],symbol:a,writeValue:s}],void 0===this.__interval?this.getAttributeDefaultValueInternal("Interval"):this.__interval,this.__getDataCallback());else{var l={requestType:"ReadWrite",commands:[{commandOptions:["SendErrorMessage"],symbol:r,writeValue:o}]};this.__requestId=et.Server.request(l,this.__getDataCallback())}}},it.prototype.__getDataCallback=function(){var m=this;return function(t){m.__requestId=null;var e=m.__lastInteraction;if(t.error===et.Errors.NONE&&t.response){if(null!==t.response.error&&void 0!==t.response.error)return e?(m.__loadingSpinner&&m.__loadingSpinner.stop(),et.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+m.getId()+"] Server responds with error. Details: "+et.Log.buildMessage(t.response.error)),void m.__resetBeforeLastManipulation()):274===t.response.error.code&&m.__getDataCounter<100?(m.__getDataCounter++,void window.setTimeout(function(){m.__getData()},50)):(m.__loadingSpinner&&m.__loadingSpinner.stop(),null!==t.response.commands&&void 0!==t.response.commands&&et.Log.error("[Source = Control, Class = TcHmiTrendLineChart, Id = "+m.getId()+"] Server responds with error. Details: "+et.Log.buildMessage(t.response.error)),void m.__reset());if(m.__getDataCounter=0,null!==t.response.commands&&void 0!==t.response.commands){for(var i=!1,n=0,o=t.response.commands.length;n<o;n++)if(null!==t.response.commands[n].error&&void 0!==t.response.commands[n].error){if(m.__loadingSpinner&&m.__loadingSpinner.stop(),i=!0,et.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+m.getId()+"] Server responds with error for command for symbol="+t.response.commands[n].symbol+". Details: "+et.Log.buildMessage(t.response.commands[n].error)),e)return void m.__resetBeforeLastManipulation();m.__reset()}else if(null!==t.response.commands[n].readValue&&void 0!==t.response.commands[n].readValue)if(0===m.__getDataCounter){if(m.__loadingSpinner&&m.__loadingSpinner.stop(),void 0!==m.__subscriptionId)if(t.response.commands[n].symbol===m.__serverDomain+".GetTrendLineData"){if(null!==m.__lineGraphData&&m.__lineGraphData.splice(0,m.__lineGraphData.length),null!==m.__lineGraphRawData&&m.__lineGraphRawData.splice(0,m.__lineGraphRawData.length),null!==t.response.commands[n].readValue.axesData&&void 0!==t.response.commands[n].readValue.axesData&&0<t.response.commands[n].readValue.axesData.length){for(var s=[],r=0,a=t.response.commands[n].readValue.axesData.length;r<a;r++){for(var l=[],_=0,h=t.response.commands[n].readValue.axesData[r].length;_<h;_++){var u=new Date(t.response.commands[n].readValue.axesData[r][_].x).getTime();t.response.commands[n].readValue.axesData[r][_].x=u;var d=!0,c=t.response.commands[n].readValue.axesData[r][_].flags;void 0!==c&&("Start"===c&&0<_?l[_-1].bindPoints=!1:"Stop"===c&&(d=!1));var p=void 0!==t.response.commands[n].readValue.axesData[r][_].error;p&&0<_&&(l[_-1].bindPoints=!1),l.push({x:u,y:t.response.commands[n].readValue.axesData[r][_].y,bindPoints:d,isArea:p})}s.push(l)}m.__lineGraphData=s,m.__lineGraphRawData=t.response.commands[n].readValue.axesData,m.__endBeforeManipulation=m.__internalEnd,m.__startBeforeManipulation=m.__internalStart}}else t.response.commands[n].symbol===m.__serverDomain+".GetTrendLineWindow"&&(m.__internalStartServer=new Date(t.response.commands[n].readValue.xAxisStart).getTime(),m.__internalEndServer=new Date(t.response.commands[n].readValue.xAxisEnd).getTime())}else{if(i=!0,m.__loadingSpinner&&m.__loadingSpinner.stop(),e)return void m.__resetBeforeLastManipulation();m.__reset()}else{if(i=!0,m.__loadingSpinner&&m.__loadingSpinner.stop(),e)return void m.__resetBeforeLastManipulation();m.__reset()}i||m.__drawLineChart()}else{if(m.__loadingSpinner&&m.__loadingSpinner.stop(),e)return void m.__resetBeforeLastManipulation();m.__reset()}}else{if(m.__loadingSpinner&&m.__loadingSpinner.stop(),t.error&&et.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+m.getId()+"] Framework error= "+t.error+", name="+et.Errors[t.error]+" while fetching data from server."),e)return void m.__resetBeforeLastManipulation();m.__reset()}"First"!==m.__internalStart&&"Latest"!==m.__internalEnd?m.__setMenuButtonsFromStop():(m.__setMenuButtonsFromStart(),m.__startEndBeforeZoom={end:m.__internalEnd,start:m.__internalStart})}},it.prototype.__resetBeforeLastManipulation=function(){if(null!==this.__lineChart){var t=this.__lineChart.getCanvasDrawing();if(null===t)return;var e=t[0].getContext("2d");if(null!==e){if(e.setTransform(1,0,0,1,0,0),this.__lineChart.setLineChanged(!0),this.__lineChart.draw(),null===this.__lineGraphData)return;if(null===this.__internalEnd)return;this.__endBeforeManipulation!==this.__internalEnd&&(this.__internalEnd=this.__endBeforeManipulation,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=it.Datatype.Keyword:this.__endDatatype=it.Datatype.Timespan),this.__internalStart!==this.__startBeforeManipulation&&(this.__internalStart=this.__startBeforeManipulation,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=it.Datatype.Keyword:this.__startDatatype=it.Datatype.Timespan);var i=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");0<i.length&&i.addClass("tchmi-no-pointer-events"),"First"!==this.__internalStart&&"Latest"!==this.__internalEnd?this.__setMenuButtonsFromStop():this.__setMenuButtonsFromStart()}}},it.prototype.__drawLineChart=function(){var t=[],e=void 0===this.__showXAxis?this.getAttributeDefaultValueInternal("ShowXAxis"):this.__showXAxis,i=[];if(null!==this.__lineChart&&void 0!==this.__lineChart){this.__lineChart.clear();var n=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");if(0<n.length){n.addClass("tchmi-no-pointer-events");var o=n[0],s=o.getContext("2d");null!==s&&s.clearRect(0,0,n.width(),n.height()),o.width=this.__elementChart.width(),o.height=this.__elementChart.height()}}else{this.__lineChart=new TcHmiCharting.Chart(this.__elementChart).LineArea();var r=document.createElement("canvas"),a=this.__elementChart.width().toString(),l=this.__elementChart.height().toString();r.setAttribute("height",l),r.setAttribute("width",a),r.setAttribute("class","tchmi-no-pointer-events tchmi-trend-line-chart-canvas-zooming"),r.setAttribute("style","position:absolute;width:100%;height:100%;"),this.__elementChart.append(r),this.__zoomingCanvasContext=r.getContext("2d");var _=this.__lineChart.getCanvasDrawing();if(null!==_){var h={passive:!0,capture:!1};_[0].addEventListener("click",this.__clickHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&h),_[0].addEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&h),_[0].addEventListener("touchstart",this.__touchstartHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),_[0].addEventListener("mousemove",this.__mousemoveTooltipHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&h),_[0].addEventListener("wheel",this.__mousewheelHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&h)}}this.__lineChart.addXAxis();var u=this.__lineChart.getXAxis();if(null!==u){if(u.setShowAxis(e),u.setShowSubTicks(void 0===this.__showXSubTicks?this.getAttributeDefaultValueInternal("ShowXSubTicks"):this.__showXSubTicks),u.setShowAxisName(void 0===this.__showXAxisName?this.getAttributeDefaultValueInternal("ShowXAxisName"):this.__showXAxisName),et.isSolidColor(this.__xAxisColor)?u.setAxisColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisColor)):u.setAxisColor(null),u.setDecimalPlaces(0),u.setAxisName(et.ValueConverter.toString(this.__xAxisName)),et.isSolidColor(this.__xAxisNameFontColor)?u.setAxisNameFontColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisNameFontColor)):u.setAxisNameFontColor(null),u.setAxisNameFontFamily(this.__xAxisNameFontFamily),u.setAxisNameFontSize(void 0===this.__xAxisNameFontSize?this.getAttributeDefaultValueInternal("XAxisNameFontSize"):this.__xAxisNameFontSize),u.setAxisNameFontSizeUnit(void 0===this.__xAxisNameFontSizeUnit?this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit"):this.__xAxisNameFontSizeUnit),u.setAxisNameFontWeight(void 0===this.__xAxisNameFontWeight?this.getAttributeDefaultValueInternal("XAxisNameFontWeight"):this.__xAxisNameFontWeight),u.setAxisWidth(void 0===this.__xAxisWidth?this.getAttributeDefaultValueInternal("XAxisWidth"):this.__xAxisWidth),et.isSolidColor(this.__xLabelFontColor)?u.setLabelFontColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xLabelFontColor)):u.setLabelFontColor(null),u.setLabelFontFamily(this.__xLabelFontFamily),u.setLabelFontSize(void 0===this.__xLabelFontSize?this.getAttributeDefaultValueInternal("XLabelFontSize"):this.__xLabelFontSize),u.setLabelFontSizeUnit(void 0===this.__xLabelFontSizeUnit?this.getAttributeDefaultValueInternal("XLabelFontSizeUnit"):this.__xLabelFontSizeUnit),u.setLabelFontWeight(void 0===this.__xLabelFontWeight?this.getAttributeDefaultValueInternal("XLabelFontWeight"):this.__xLabelFontWeight),u.setMainTickSteps(void 0===this.__xMainTickSteps?this.getAttributeDefaultValueInternal("XMainTickSteps"):this.__xMainTickSteps),TCHMI_ENABLE_DESIGNER_MODE_MASTER)u.setShowLabels(!1),null!==this.__internalYAxis&&0<this.__internalYAxis.length&&(t=this.__internalYAxis.slice());else if(this.__internalEnd&&this.__internalStart&&this.__lineGraphDescriptions&&0<this.__lineGraphDescriptions.length){var d=void 0,c=void 0;this.isDatetime(this.__internalStart)?d=new Date(this.__internalStart).getTime():this.isKeyword(this.__internalStart)?d=this.__internalStartServer:c=this.__isoToMilliSec(this.__internalStart);var p=void 0,m=void 0;if(this.isDatetime(this.__internalEnd)?p=new Date(this.__internalEnd).getTime():this.isKeyword(this.__internalEnd)?p=this.__internalEndServer:m=this.__isoToMilliSec(this.__internalEnd),d||p){if(d)u.setMainTickStartValue(d);else if(p&&void 0!==c){var g=p-c;u.setMainTickStartValue(g)}p?u.setMainTickEndValue(p):d&&void 0!==m&&(g=d+m,u.setMainTickEndValue(g)),u.setShowLabels(void 0===this.__xShowLabels?this.getAttributeDefaultValueInternal("XShowLabels"):this.__xShowLabels),u.setXAxisCallback(this.__xAxisCallbackFunction())}else u.setShowAxis(!1),u.setShowLabels(!1);null===this.__lineGraphData||0===this.__lineGraphData.length?(u.setShowLabels(!1),null!==this.__internalYAxis&&(t=this.__internalYAxis.slice())):null!==this.__internalLineGraphDescription&&null!==this.__internalYAxis&&(i=this.__internalLineGraphDescription.slice(),t=this.__internalYAxis.slice())}else u.setShowLabels(!1),null!==this.__internalYAxis&&0<this.__internalYAxis.length&&(t=this.__internalYAxis.slice());u.setSubTickSteps(void 0===this.__xSubTickSteps?this.getAttributeDefaultValueInternal("XSubTickSteps"):this.__xSubTickSteps),u.setAutoScaling(!1)}if(null!=t)for(var v=0,C=t.length;v<C;v++){this.__lineChart.addYAxis(et.ValueConverter.toEnum(t[v].position,it.AxisPosition,it.AxisPosition.Left));var f=this.__lineChart.getYAxisAtPosition(this.__lineChart.getYAxis().length-1);f.setShowAxis(!0),f.setAutoScaling(et.ValueConverter.toBoolean(t[v].autoScaling,!1));var S=t[v].axisColor;et.isSolidColor(S)?f.setAxisColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):f.setAxisColor(null),f.setAxisName(et.ValueConverter.toString(t[v].axisName)),S=t[v].axisNameFontColor,et.isSolidColor(S)?f.setAxisNameFontColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):f.setAxisNameFontColor(null),f.setAxisNameFontFamily(et.ValueConverter.toFontFamily(t[v].axisNameFontFamily)),f.setAxisNameFontSize(et.ValueConverter.toNumber(t[v].axisNameFontSize));var y=t[v].axisNameFontSizeUnit;void 0!==y?f.setAxisNameFontSizeUnit(y):f.setAxisNameFontSizeUnit(null);var b=t[v].axisNameFontWeight;void 0!==b?f.setAxisNameFontWeight(b):f.setAxisNameFontWeight(null),f.setDecimalPlaces(et.ValueConverter.toNumber(t[v].decimalPlaces)),S=t[v].labelFontColor,et.isSolidColor(S)?f.setLabelFontColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):f.setLabelFontColor(null),f.setMainTickStartValue(et.ValueConverter.toNumber(t[v].mainTickMinValue)),f.setMainTickEndValue(et.ValueConverter.toNumber(t[v].mainTickMaxValue)),f.setShowLabels(et.ValueConverter.toBoolean(t[v].showLabels,!0)),f.setShowAxisName(et.ValueConverter.toBoolean(t[v].showAxisName,!0)),f.setUnit(et.ValueConverter.toString(t[v].unit)),f.setAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),f.setLabelFontFamily(this.__yLabelFontFamily),f.setLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),f.setLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),f.setLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),f.setMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),f.setSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),f.setShowSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks)}if(this.__showGrid){this.__lineChart.addGrid();var x=this.__lineChart.getGrid();null!==x&&(x.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),x.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines),x.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),x.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),et.isSolidColor(this.__gridLineColor)?x.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):x.setLineColor(null),et.isSolidColor(this.__gridBackgroundColor)?x.setBackgroundColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):x.setBackgroundColor(null))}this.__lineChart.addSubgrid();var T=this.__lineChart.getSubgrid();if(null!==T&&(T.setShowHorizontalLines(void 0===this.__subgridShowHorizontalLines?this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines"):this.__subgridShowHorizontalLines),T.setShowVerticalLines(void 0===this.__subgridShowVerticalLines?this.getAttributeDefaultValueInternal("SubgridShowVerticalLines"):this.__subgridShowVerticalLines),T.setLineWidth(void 0===this.__subgridLineWidth?this.getAttributeDefaultValueInternal("SubgridLineWidth"):this.__subgridLineWidth),T.setLineStyle(void 0===this.__subgridLineStyle?this.getAttributeDefaultValueInternal("SubgridLineStyle"):this.__subgridLineStyle),et.isSolidColor(this.__subgridLineColor)?T.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__subgridLineColor)):T.setLineColor(null)),null!=i&&null!==this.__lineGraphData&&this.__lineGraphData.length>=i.length)for(v=0,C=i.length;v<C;v++)if(null!=t)for(var A=0,D=t.length;A<D;A++)if(t[A].id===i[v].yAxisId){this.__lineChart.addGraph({points:this.__lineGraphData[v],yAxis:this.__lineChart.getYAxisAtPosition(A)});var F=this.__lineChart.getLineGraphsAtPosition(this.__lineChart.getLineGraphs().length-1),w=void 0,L=et.Theme.Resources.get(this,"ErrorMarkingColor");if(w=et.isSolidColor(L.value)?et.StyleProvider.resolveSolidColorAsCssValue(L.value):"rgba(255, 0, 0, 0.4)",null!==this.__lineGraphRawData){for(var E=null,M=null,I=null,B=0,V=this.__lineGraphRawData[v].length;B<V;B++){var k=this.__lineGraphRawData[v][B].error;void 0!==k?(null===E?E=0===B?this.__lineGraphRawData[v][B].x:this.__lineGraphRawData[v][B-1].x:k!==I&&M&&(F.addArea({beginX:E,endX:M,backgroundColor:w}),E=M),M=this.__lineGraphRawData[v][B].x,I=k):E&&(F.addArea({beginX:E,endX:this.__lineGraphRawData[v][B].x,backgroundColor:w}),E=null)}E&&(F.addArea({beginX:E,endX:this.__lineGraphRawData[v][this.__lineGraphRawData[v].length-1].x,backgroundColor:w}),E=null)}S=void 0,null!=F&&(S=i[v].lineColor,et.isSolidColor(S)?F.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):F.setLineColor(null),F.setLineWidth(et.ValueConverter.toNumber(i[v].lineWidth)),"Latest"!==this.__internalEnd&&"First"!==this.__internalStart?F.setPointDot(et.ValueConverter.toBoolean(i[v].pointDotInStopMode,!0)):F.setPointDot(et.ValueConverter.toBoolean(i[v].pointDot,!1)),S=i[v].pointDotFillColor,et.isSolidColor(S)?F.setPointDotFillColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):F.setPointDotFillColor(null),F.setPointDotRadius(et.ValueConverter.toNumber(i[v].pointDotRadius)),S=i[v].pointDotStrokeColor,et.isSolidColor(S)?F.setPointDotStrokeColor(et.StyleProvider.resolveSolidColorAsCssValue(S)):F.setPointDotStrokeColor(null),F.setPointDotStrokeWidth(et.ValueConverter.toNumber(i[v].pointDotStrokeWidth)))}if(this.__lineChart.setYAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),this.__lineChart.setYLabelFontFamily(this.__yLabelFontFamily),this.__lineChart.setYLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),this.__lineChart.setYLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),this.__lineChart.setYLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),this.__lineChart.setYMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),this.__lineChart.setYSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),this.__lineChart.setShowYSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks),this.__lineChart.draw(),t.splice(0,t.length),i.splice(0,i.length),null!==u){var P=u.getMainTickStartValue();P!==this.__actualStartTime&&(this.__actualStartTime=P,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getActualStartTime"]));var W=u.getMainTickEndValue();W!==this.__actualEndTime&&(this.__actualEndTime=W,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getActualEndTime"]))}},it.prototype.__reset=function(){if(!TCHMI_ENABLE_DESIGNER_MODE_MASTER){null!==this.__lineGraphData&&void 0!==this.__lineGraphData&&this.__lineGraphData.splice(0,this.__lineGraphData.length),null!==this.__lineChart&&void 0!==this.__lineChart&&this.__lineChart.clear();var t=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");0<t.length&&t.addClass("tchmi-no-pointer-events");for(var e=!1,i=0,n=this.__menuBarControls.length;i<n;i++)if(this.__menuBarControls[i].getId()===this.__id+"_stopButton"?this.__menuBarControls[i].setIsEnabled(!1):this.__menuBarControls[i].getId()===this.__id+"_panxButton"||this.__menuBarControls[i].getId()===this.__id+"_panxyButton"||this.__menuBarControls[i].getId()===this.__id+"_zoomxButton"||this.__menuBarControls[i].getId()===this.__id+"_zoomxyButton"?(this.__menuBarControls[i].setIsEnabled(!1),"Active"===this.__menuBarControls[i].getToggleState()&&(e=!0)):this.__menuBarControls[i].getId()===this.__id+"_resetZoomButton"||this.__menuBarControls[i].getId()===this.__id+"_resetButton"?this.__menuBarControls[i].setIsEnabled(!1):this.__menuBarControls[i].getId()!==this.__id+"_startCombobox"&&this.__menuBarControls[i].getId()!==this.__id+"_endCombobox"||this.__menuBarControls[i].setIsEnabled(!0),!e&&this.__isAttached){var o=this.__menuBarControls[12];o.getId()===this.__id+"_panxButton"&&o.setToggleState("Active")}}},it.prototype.__createTooltip=function(v,C,t){if(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},this.__lineChart){var e=this.__lineChart.getYAxisAtPosition(0);if(e){var i=e.getAxisWidth();if(null!==i){var n=this.__lineChart.getDrawingBorder(),f=e.getDiffEndLabelAndLine()+i/2+5+n,S=this.__lineChart.getXAxis(),y=0;if(null!==S){y=S.getXAxisLeftWidth()||0;var o=this.__lineChart.getYAxis();if(null!=o){var b=o[0].getLineHeight(),x=this.__lineChart.getLineGraphs(),T=[],A=[],s=0,r=S.getMainTickStartValue(),a=S.getMainTickEndValue();if(null!==r&&null!==a){var l=a-r,_=S.getLineWidth();function h(h,t){var e=x[h],i=e.getPointDotRadius();if(null!==i&&e.getPointDot()){var n=e.getPoints();if(null!=n)for(var o=0,s=n.length;o<s;o++)if(y<=v&&v<=y+S.getLineWidth()&&f<=C&&C<=f+b&&n[o].xPosition-i<=v&&v<=n[o].xPosition+i&&n[o].yPosition-i<=C&&n[o].yPosition+i>=C){var r="",a=null;D.__internalLineGraphDescription&&D.__internalLineGraphDescription[h]&&(r=D.__internalLineGraphDescription[h].symbol,a=D.__internalLineGraphDescription[h]);var l=null;if(D.__internalYAxis&&a)for(var _=a.yAxisId,u=0,d=D.__internalYAxis.length;u<d;u++)if(D.__internalYAxis[u].id===_){l=D.__internalYAxis[u];break}l&&A.push({yAxis:l,coordinates:{x:n[o].xPosition,y:n[o].yPosition},values:{x:n[o].xValue,y:n[o].yValue},symbolname:r})}}function c(e,t){if(y<=v&&v<=y+S.getLineWidth()&&f<=C&&C<=f+b&&p[e].xBeginPosition<=v&&v<=p[e].xEndPosition){var i=0;if(null!==D.__lineGraphRawData){var n=D.__lineGraphRawData[h].filter(function(t){return t.x===p[e].xBeginValue}),o=D.__lineGraphRawData[h].indexOf(n[0]);i=D.__lineGraphRawData[h][o+1].error}if(D.__internalLineGraphDescription&&D.__internalLineGraphDescription[h]){var s=D.__internalLineGraphDescription[h],r=null;if(D.__internalYAxis&&s)for(var a=s.yAxisId,l=0,_=D.__internalYAxis.length;l<_;l++)if(D.__internalYAxis[l].id===a){r=D.__internalYAxis[l];break}r&&T.push({yAxis:r,xBeginTime:p[e].xBeginValue,xEndTime:p[e].xEndValue,xBegin:p[e].xBeginPosition,xEnd:p[e].xEndPosition,error:i,symbolname:s.symbol})}}}for(var p=e.getAreaPoints(),m=0,g=p.length;m<g;m++)c(m)}s=r+l/_*(v-y);for(var D=this,u=0,d=x.length;u<d;u++)h(u);if(0===T.length&&0===A.length)this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]};else{this.__tooltipInformation={show:!0,isActive:t,time:s,points:[],errors:[]};for(var c=0,p=T.length;c<p;c++)this.__tooltipInformation.errors.push({yAxis:T[c].yAxis,beginTime:T[c].xBeginTime,endTime:T[c].xEndTime,errorCode:T[c].error,symbolname:T[c].symbolname});for(var m=0,g=A.length;m<g;m++)this.__tooltipInformation.points.push({yAxis:A[m].yAxis,point:{x:A[m].values.x,y:A[m].values.y},symbolname:A[m].symbolname});var F=this.__executeTooltipFormatFunction(s,this.__tooltipInformation.points.reverse(),this.__tooltipInformation.errors.reverse());if(this.__elementTooltip.css("visibility","visible"),null===F)return void this.__elementTooltip.css("visibility","hidden");this.__elementTooltipText[0].innerHTML=F;var w=null,L=et.Theme.Resources.get(this,"TooltipFontColor");et.isSolidColor(L.value)&&(w=et.StyleProvider.resolveSolidColorAsCssValue(L.value)),et.isSolidColor(this.__tooltipFontColor)&&(w=et.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=w&&this.__elementTooltipText.css("color",w);var E=this.__elementTooltip.width(),M=this.__elementTooltip.height(),I=0;this.__showMenuBar&&"Top"===this.__menuBarPosition&&(I=this.__elementMenuBar.outerHeight()+5),y<=v-E/2&&v+E/2<=y+S.getLineWidth()&&f<=C-M?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-bottom"),this.__elementTooltip.css({top:C-M-4+I+5,left:v+5-E/2})):y<=v-E/2&&v+E/2<=y+S.getLineWidth()?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-top"),this.__elementTooltip.css({top:C+4+I+5,left:v+5-E/2})):y<=v&&v+E<=y+S.getLineWidth()?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-left"),this.__elementTooltip.css({top:C-M/2+I+5,left:v+4+5})):(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltip.css({top:C-M/2+I+5,left:v-4-E+5}))}}}}}}}},it.prototype.__createTooltipFromTouch=function(C,f){if(this.__holdTimer&&(clearTimeout(this.__holdTimer),this.__holdTimer=0),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}},this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},this.__lineChart){var t=this.__lineChart.getYAxisAtPosition(0);if(t){var e=t.getAxisWidth();if(null!==e){var i=this.__lineChart.getDrawingBorder(),S=t.getDiffEndLabelAndLine()+e/2+5+i,y=this.__lineChart.getXAxis(),b=0;if(null!==y){b=y.getXAxisLeftWidth()||0;var n=this.__lineChart.getYAxis();if(null!=n){var x=n[0].getLineHeight(),T=this.__lineChart.getLineGraphs(),A=[],D=[],o=0,s=y.getMainTickStartValue(),r=y.getMainTickEndValue();if(null!==s&&null!==r){var a=r-s,l=y.getLineWidth();function _(h,t){var e=T[h],i=e.getPointDotRadius();if(null!==i&&e.getPointDot()){var n=e.getPoints();if(null!=n)for(var o=0,s=n.length;o<s;o++)if(b-10<=C&&C<=b+y.getLineWidth()+10&&S-10<=f&&f<=S+x+10){var r=Math.sqrt(Math.pow(C-n[o].xPosition,2)+Math.pow(f-n[o].yPosition,2));if(r<=10+i){var a="",l=null;F.__internalLineGraphDescription&&F.__internalLineGraphDescription[h]&&(a=F.__internalLineGraphDescription[h].symbol,l=F.__internalLineGraphDescription[h]);var _=null;if(F.__internalYAxis&&l)for(var u=l.yAxisId,d=0,c=F.__internalYAxis.length;d<c;d++)if(F.__internalYAxis[d].id===u){_=F.__internalYAxis[d];break}_&&D.push({yAxis:_,coordinates:{x:n[o].xPosition,y:n[o].yPosition},values:{x:n[o].xValue,y:n[o].yValue},symbolname:a,distance:r})}}}function p(e,t){if(b-5<=C&&C<=b+y.getLineWidth()+5&&S-5<=f&&f<=S+x+5&&m[e].xBeginPosition-5<=C&&C<=m[e].xEndPosition+5){var i=0;if(null!==F.__lineGraphRawData){var n=F.__lineGraphRawData[h].filter(function(t){return t.x===m[e].xBeginValue}),o=F.__lineGraphRawData[h].indexOf(n[0]);i=F.__lineGraphRawData[h][o+1].error}if(F.__internalLineGraphDescription&&F.__internalLineGraphDescription[h]){var s=F.__internalLineGraphDescription[h],r=null;if(F.__internalYAxis&&s)for(var a=s.yAxisId,l=0,_=F.__internalYAxis.length;l<_;l++)if(F.__internalYAxis[l].id===a){r=F.__internalYAxis[l];break}r&&A.push({yAxis:r,xBeginTime:m[e].xBeginValue,xEndTime:m[e].xEndValue,xBegin:m[e].xBeginPosition,xEnd:m[e].xEndPosition,error:i,symbolname:s.symbol})}}}for(var m=e.getAreaPoints(),g=0,v=m.length;g<v;g++)p(g)}o=s+a/l*(C-b);for(var F=this,h=0,u=T.length;h<u;h++)_(h);if(0===A.length&&0===D.length)this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]};else{this.__tooltipInformation={show:!0,isActive:!0,time:o,points:[],errors:[]};for(var d=0,c=A.length;d<c;d++)this.__tooltipInformation.errors.push({yAxis:A[d].yAxis,beginTime:A[d].xBeginTime,endTime:A[d].xEndTime,errorCode:A[d].error,symbolname:A[d].symbolname});D.sort(function(t,e){return t.distance-e.distance});for(var p=0,m=D.length;p<m;p++)this.__tooltipInformation.points.push({yAxis:D[p].yAxis,point:{x:D[p].values.x,y:D[p].values.y},symbolname:D[p].symbolname});var g=this.__executeTooltipFormatFunction(o,this.__tooltipInformation.points,this.__tooltipInformation.errors.reverse());if(this.__elementTooltip.css("visibility","visible"),null===g)return void this.__elementTooltip.css("visibility","hidden");this.__elementTooltipText[0].innerHTML=g;var v=null,w=et.Theme.Resources.get(this,"TooltipFontColor");if(w&&null!==w.value){var L=w.value;et.isSolidColor(L)&&(v=et.StyleProvider.resolveSolidColorAsCssValue(L))}et.isSolidColor(this.__tooltipFontColor)&&(v=et.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=v&&this.__elementTooltipText.css("color",v);var E=this.__elementTooltip.width(),M=this.__elementTooltip.height(),I=0;this.__showMenuBar&&"Top"===this.__menuBarPosition&&(I=this.__elementMenuBar.outerHeight()+5),b<=C-E/2&&C+E/2<=b+y.getLineWidth()&&S<=f-M?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-bottom"),this.__elementTooltip.css({top:f-M-4+I+5,left:C+5-E/2})):b<=C-E/2&&C+E/2<=b+y.getLineWidth()?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-top"),this.__elementTooltip.css({top:f+4+I+5,left:C+5-E/2})):b<=C&&C+E<=b+y.getLineWidth()?(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-left"),this.__elementTooltip.css({top:f-M/2+I+5,left:C+4+5})):(this.__elementTooltipArrow.removeClass("tchmi-trend-line-chart-template-tooltip-arrow-top tchmi-trend-line-chart-template-tooltip-arrow-bottom tchmi-trend-line-chart-template-tooltip-arrow-left tchmi-trend-line-chart-template-tooltip-arrow-right").addClass("tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltip.css({top:f-M/2+I+5,left:C-4-E+5}))}}}}}}}},it.prototype.__onMouseMoveTooltip=function(){var o=this;return function(t){if(!o.__tooltipInformation.isActive&&o.__showTooltip&&(!o.__manipulationInfo.isManipulating||!o.getIsEnabled())){var e=o,i=t.offsetX,n=t.offsetY;requestAnimationFrame(function(){null!==e.__internalEnd&&null!==e.__internalStart&&"Latest"!==e.__internalEnd&&"First"!==e.__internalStart&&e.__createTooltip(i,n,!1)})}}},it.prototype.__onClick=function(){var n=this;return function(t){if(n.__manipulationInfo.click&&null!==n.__lineChart){if(n.__manipulationInfo.isManipulating)return;if(!n.getIsEnabled()||0===n.__lineChart.getLineGraphs().length)return;if("Latest"===n.__internalEnd||"First"===n.__internalStart||null===n.__internalEnd||null===n.__internalStart)return;if(null!==t.currentTarget){var e=t.currentTarget;if("tchmi-chart-canvas-drawing"===e.className){var i=null;if(null!==e.parentElement&&null!==e.parentElement.parentElement&&null!==e.parentElement.parentElement.parentElement&&(i=e.parentElement.parentElement.parentElement.id),i===n.__id&&(n.__createTooltip(t.offsetX,t.offsetY,!0),n.__tooltipInformation.isActive))return}else n.__elementTooltip.css("visibility","hidden"),n.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}}}n.__manipulationInfo.click=!0}},it.prototype.__onMouseDown=function(){var o=this;return function(t){if(o.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},null!==o.__lineChart){if(o.__manipulationInfo.isManipulating)return;if(!o.getIsEnabled()||0===o.__lineChart.getLineGraphs().length)return;if("Latest"===o.__internalEnd||"First"===o.__internalStart||null===o.__internalEnd||null===o.__internalStart)return;var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;o.__manipulationInfo.offset.left=e.left,o.__manipulationInfo.offset.top=e.top,o.__manipulationInfo.mousePosition={x:i,y:n},o.__userInteractionStart(i,n)}}},it.prototype.__onMouseMove=function(){var n=this;return function(t){if(n.__manipulationInfo.isManipulating&&n.getIsEnabled()){var e=t.clientX-n.__manipulationInfo.offset.left,i=t.clientY-n.__manipulationInfo.offset.top;n.__userInteractionMove(e,i)}}},it.prototype.__onMouseUp=function(){var e=this;return function(t){e.__manipulationInfo.isManipulating&&e.getIsEnabled()&&e.__userInteractionEnd()}},it.prototype.__onTouchStart=function(){var r=this;return function(t){if(t.preventDefault(),r.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},null!==r.__lineChart){if(!r.getIsEnabled()||0===r.__lineChart.getLineGraphs().length)return;if("Latest"===r.__internalEnd||"First"===r.__internalStart||null===r.__internalEnd||null===r.__internalStart)return;var e=t.target.getBoundingClientRect(),i=t.touches[0],n=i.clientX-e.left,o=i.clientY-e.top,s=r;if(r.__holdTimer=setTimeout(function(){s.__createTooltipFromTouch(n,o)},r.__holdTimerDuration),r.__manipulationInfo.offset.left=e.left,r.__manipulationInfo.offset.top=e.top,r.__manipulationInfo.mousePosition={x:n,y:o},r.__multitouchInfo.offset.left=e.left,r.__multitouchInfo.offset.top=e.top,1<t.touches.length)return void r.__userMultitouchStart(t);if(r.__manipulationInfo.isManipulating)return;r.__userInteractionStart(n,o)}}},it.prototype.__onTouchMove=function(){var o=this;return function(t){if(o.getIsEnabled()){if(o.__multitouchInfo.multitouchMode)return t.preventDefault(),void o.__userMultitouchMove(t);if(o.__manipulationInfo.isManipulating){var e=t.touches[0],i=e.clientX-o.__manipulationInfo.offset.left,n=e.clientY-o.__manipulationInfo.offset.top;5<Math.sqrt(Math.pow(o.__manipulationInfo.mousePosition.x-i,2)+Math.pow(o.__manipulationInfo.mousePosition.y-n,2))&&(o.__holdTimer&&(clearTimeout(o.__holdTimer),o.__holdTimer=0),o.__userInteractionMove(i,n))}}}},it.prototype.__onTouchEnd=function(){var o=this;return function(t){if(o.getIsEnabled()){if(o.__holdTimer&&(clearTimeout(o.__holdTimer),o.__holdTimer=0),o.__multitouchInfo.multitouchMode)return t.preventDefault(),void o.__userMultitouchEnd(t);if(o.__manipulationInfo.isManipulating){var e=t.changedTouches[0],i=e.clientX-o.__manipulationInfo.offset.left,n=e.clientY-o.__manipulationInfo.offset.top;5<Math.sqrt(Math.pow(o.__manipulationInfo.mousePosition.x-i,2)+Math.pow(o.__manipulationInfo.mousePosition.y-n,2))?o.__userInteractionEnd():o.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}}}},it.prototype.__userInteractionStart=function(t,e){if(null!==this.__lineChart){var i=this.__lineChart.getYAxisAtPosition(0);if(i){var n=i.getAxisWidth();if(null!==n){var o=i.getDiffEndLabelAndLine()+n/2+5+this.__lineChart.getDrawingBorder(),s=this.__lineChart.getXAxis(),r=0;null!==s&&(r=s.getXAxisLeftWidth()||0);var a=0;null!==s&&(a=s.getLineWidth());var l=i.getLineHeight();if(t<r||r+a<t||e<o||o+l<e)return;this.__mouseMode!==it.MouseMode.ZoomX&&this.__mouseMode!==it.MouseMode.ZoomXY||(this.__manipulationInfo.start.x=t,this.__manipulationInfo.start.y=e,this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e,this.__mouseMode===it.MouseMode.ZoomX&&(this.__manipulationInfo.start.y=o,this.__manipulationInfo.end.y=o)),this.__mouseMode!==it.MouseMode.PanX&&this.__mouseMode!==it.MouseMode.PanXY||(this.__manipulationInfo.start.x=t,this.__manipulationInfo.start.y=e,this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e),this.__manipulationInfo.isManipulating=!0,this.__manipulationInfo.transform={x:0,y:0}}}}},it.prototype.__userInteractionMove=function(t,e){if(this.__tooltipInformation.show&&(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}),null!==this.__lineChart){var i=this.__lineChart.getYAxisAtPosition(0);if(i){var n=i.getAxisWidth();if(null!==n){var o=i.getDiffEndLabelAndLine()+n/2+5+this.__lineChart.getDrawingBorder(),s=this.__lineChart.getXAxis(),r=0;if(null!==s){if(r=s.getXAxisLeftWidth()||0,this.__mouseMode===it.MouseMode.ZoomX||this.__mouseMode===it.MouseMode.ZoomXY){if(null===this.__zoomingCanvasContext)return;var a=t-this.__manipulationInfo.start.x,l=0;l=this.__mouseMode===it.MouseMode.ZoomX?i.getLineHeight():e-this.__manipulationInfo.start.y,this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height),this.__zoomingCanvasContext.beginPath(),this.__zoomingCanvasContext.rect(this.__manipulationInfo.start.x,this.__manipulationInfo.start.y,a,l),this.__zoomingCanvasContext.fillStyle="rgba(51,153,255,0.3)",this.__zoomingCanvasContext.lineWidth=1,this.__zoomingCanvasContext.strokeStyle="rgba(51,153,255,1)",this.__zoomingCanvasContext.fill(),this.__zoomingCanvasContext.stroke(),this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,o),this.__zoomingCanvasContext.clearRect(0,0,r,this.__zoomingCanvasContext.canvas.height),this.__zoomingCanvasContext.clearRect(0,this.__zoomingCanvasContext.canvas.height,this.__zoomingCanvasContext.canvas.width,-(this.__zoomingCanvasContext.canvas.height-i.getLineHeight()-o)),this.__zoomingCanvasContext.clearRect(this.__zoomingCanvasContext.canvas.width,0,-(this.__zoomingCanvasContext.canvas.width-r-s.getLineWidth()),this.__zoomingCanvasContext.canvas.height)}if(this.__mouseMode===it.MouseMode.PanX||this.__mouseMode===it.MouseMode.PanXY){var _=t-this.__manipulationInfo.end.x,h=e-this.__manipulationInfo.end.y,u=this.__lineChart.getCanvasDrawing();if(null===u)return;var d=u[0].getContext("2d");if(null===d)return;this.__mouseMode===it.MouseMode.PanXY?(d.translate(_,h),this.__manipulationInfo.transform={x:this.__manipulationInfo.transform.x+_,y:this.__manipulationInfo.transform.y+h}):(h=0,d.translate(_,0),this.__manipulationInfo.transform.x=this.__manipulationInfo.transform.x+_),this.__lineChart.setLineChanged(!0),this.__lineChart.draw(),0<=this.__manipulationInfo.transform.y?0<=this.__manipulationInfo.transform.x?(d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,o+this.__manipulationInfo.transform.y),d.clearRect(-this.__manipulationInfo.transform.x,d.canvas.height-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,-(d.canvas.height-i.getLineHeight()-o)),d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,r+this.__manipulationInfo.transform.x,d.canvas.height+this.__manipulationInfo.transform.y),d.clearRect(d.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(d.canvas.width-r-s.getLineWidth()),d.canvas.height+this.__manipulationInfo.transform.y)):(d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,o+this.__manipulationInfo.transform.y),d.clearRect(-this.__manipulationInfo.transform.x,d.canvas.height-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,-(d.canvas.height-i.getLineHeight()-o)),d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,r,d.canvas.height+this.__manipulationInfo.transform.y),d.clearRect(d.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(d.canvas.width-r-s.getLineWidth()-this.__manipulationInfo.transform.x),d.canvas.height+this.__manipulationInfo.transform.y)):0<=this.__manipulationInfo.transform.x?(d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,o),d.clearRect(-this.__manipulationInfo.transform.x,d.canvas.height-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,-(d.canvas.height-i.getLineHeight()-o-this.__manipulationInfo.transform.y)),d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,r+this.__manipulationInfo.transform.x,d.canvas.height+this.__manipulationInfo.transform.y),d.clearRect(d.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(d.canvas.width-r-s.getLineWidth()),d.canvas.height+this.__manipulationInfo.transform.y)):(d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,o),d.clearRect(-this.__manipulationInfo.transform.x,d.canvas.height-this.__manipulationInfo.transform.y,d.canvas.width+this.__manipulationInfo.transform.x,-(d.canvas.height-i.getLineHeight()-o-this.__manipulationInfo.transform.y)),d.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,r,d.canvas.height+this.__manipulationInfo.transform.y),d.clearRect(d.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(d.canvas.width-r-s.getLineWidth()-this.__manipulationInfo.transform.x),d.canvas.height+this.__manipulationInfo.transform.y))}this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e}}}}},it.prototype.__userInteractionEnd=function(){if(null!==this.__zoomingCanvasContext&&"First"!==this.__internalStart&&null!==this.__internalStart&&"Latest"!==this.__internalEnd&&null!==this.__internalEnd){if(null!==this.__lineChart){var t=this.__lineChart.getYAxisAtPosition(0);if(t){var e=t.getAxisWidth();if(null!==e){var i=t.getDiffEndLabelAndLine()+e/2+5+this.__lineChart.getDrawingBorder(),n=this.__lineChart.getXAxis(),o=0;if(null!==n){var s=n.getMainTickStartValue(),r=n.getMainTickEndValue(),a=0,l="";if(null!==s&&null!==r){a=r-s;var _=new Date(s);l=_.getUTCFullYear()+"-"+("0"+(_.getUTCMonth()+1)).slice(-2)+"-"+("0"+_.getUTCDate()).slice(-2)+"T"+("0"+_.getUTCHours()).slice(-2)+":"+("0"+_.getUTCMinutes()).slice(-2)+":"+("0"+_.getUTCSeconds()).slice(-2)+"."+("00"+_.getUTCMilliseconds()).slice(-3)+"Z"}o=n.getXAxisLeftWidth()||0;var h=this.__zoomingCanvasContext.canvas.width-o-(this.__zoomingCanvasContext.canvas.width-o-n.getLineWidth()),u=this.__zoomingCanvasContext.canvas.height-i-(this.__zoomingCanvasContext.canvas.height-t.getLineHeight()-i);this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height);var d=a;if(this.__mouseMode===it.MouseMode.ZoomX||this.__mouseMode===it.MouseMode.ZoomXY){var c=o+n.getLineWidth(),p=void 0,m=void 0;this.__manipulationInfo.start.x<this.__manipulationInfo.end.x?(p=this.__manipulationInfo.start.x,this.__manipulationInfo.start.x<o&&(p=o),m=this.__manipulationInfo.end.x,this.__manipulationInfo.end.x>c&&(m=c)):(p=this.__manipulationInfo.end.x,this.__manipulationInfo.end.x<o&&(p=o),m=this.__manipulationInfo.start.x,this.__manipulationInfo.start.x>c&&(m=c));var g=(G=(m-p)/h)*d;if(!(1<=g||this.__mouseMode===it.MouseMode.ZoomXY)){this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}};var v=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");return void(0<v.length&&v.addClass("tchmi-no-pointer-events"))}if(this.__mouseMode===it.MouseMode.ZoomXY){if(null!=(H=this.__lineChart.getYAxis())&&0<H.length){var C=i+H[0].getLineHeight(),f=void 0,S=void 0;this.__manipulationInfo.start.y<this.__manipulationInfo.end.y?(S=this.__manipulationInfo.start.y,this.__manipulationInfo.start.y<i&&(S=i),f=this.__manipulationInfo.end.y,this.__manipulationInfo.end.y>C&&(f=C)):(S=this.__manipulationInfo.end.y,this.__manipulationInfo.end.y<i&&(S=i),f=this.__manipulationInfo.start.y,this.__manipulationInfo.start.y>C&&(f=C));for(var y=0,b=H.length;y<b;y++){var x=H[y].getDecimalPlaces(),T=void 0,A=H[y].getMainTickStartValueOverride(),D=H[y].getMainTickStartValue();if(null!==A)T=A;else{if(null===D)continue;T=D}var F=void 0,w=H[y].getMainTickEndValueOverride(),L=H[y].getMainTickEndValue();if(null!==w)F=w;else{if(null===L)continue;F=L}var E=($=F-T)*(1-(f-i)/u)+T,M=$*(1-(S-i)/u)+T,I=0;if(null!==x&&(I=Math.pow(10,x),E=Math.round(E*I)/I,M=Math.round(M*I)/I),null===x||(M-E)*I<1){for(var B=0,V=H.length;B<V;B++)if(null!==this.__internalYAxis){this.__internalYAxis[B].autoScaling=H[B].getAutoScaling();var k=H[B].getMainTickEndValue();this.__internalYAxis[B].mainTickMaxValue=null===k?void 0:k;var P=H[B].getMainTickStartValue();this.__internalYAxis[B].mainTickMinValue=null===P?void 0:P}this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}};var W=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");return void(0<W.length&&W.addClass("tchmi-no-pointer-events"))}null!==this.__internalYAxis&&(this.__internalYAxis[y].autoScaling=!1,this.__internalYAxis[y].mainTickMaxValue=M,this.__internalYAxis[y].mainTickMinValue=E)}var z=(p-o)/h,Y=Math.abs(d*z),R=new Date(l),X=new Date(R.getTime()+Y);if(this.__endDatatype===it.Datatype.Datetime){var N=(q=new Date(X.getTime()+g)).getUTCFullYear()+"-"+("0"+(q.getUTCMonth()+1)).slice(-2)+"-"+("0"+q.getUTCDate()).slice(-2)+"T"+("0"+q.getUTCHours()).slice(-2)+":"+("0"+q.getUTCMinutes()).slice(-2)+":"+("0"+q.getUTCSeconds()).slice(-2)+"."+("00"+q.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=N}else this.__internalEnd=this.__milliSecToIso(g);if(this.__startDatatype===it.Datatype.Datetime){var U=X.getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=U}else this.__internalStart=this.__milliSecToIso(g);et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxis"])}}else z=(p-o)/h,Y=Math.abs(d*z),R=new Date(l),X=new Date(R.getTime()+Y),this.__endDatatype===it.Datatype.Datetime?(N=(q=new Date(X.getTime()+g)).getUTCFullYear()+"-"+("0"+(q.getUTCMonth()+1)).slice(-2)+"-"+("0"+q.getUTCDate()).slice(-2)+"T"+("0"+q.getUTCHours()).slice(-2)+":"+("0"+q.getUTCMinutes()).slice(-2)+":"+("0"+q.getUTCSeconds()).slice(-2)+"."+("00"+q.getUTCMilliseconds()).slice(-3)+"Z",this.__internalEnd=N):this.__internalEnd=this.__milliSecToIso(g),this.__startDatatype===it.Datatype.Datetime?(U=X.getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z",this.__internalStart=U):this.__internalStart=this.__milliSecToIso(g);this.__openWebsocket(),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}if(this.__mouseMode===it.MouseMode.PanX||this.__mouseMode===it.MouseMode.PanXY){var G,H,O=this.__lineChart.getCanvasDrawing();if(null!==O){var Z=O[0].getContext("2d");null!==Z&&Z.setTransform(1,0,0,1,0,0)}if(0==(G=this.__manipulationInfo.transform.x/h)&&this.__mouseMode===it.MouseMode.PanX){var j=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");return 0<j.length&&j.addClass("tchmi-no-pointer-events"),void(this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}})}if(Y=d*G,R=new Date(l),this.__startDatatype===it.Datatype.Datetime&&this.__endDatatype===it.Datatype.Datetime)U=(X=new Date(R.getTime()-Y)).getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z",this.__internalStart=U,N=(q=new Date(X.getTime()+d)).getUTCFullYear()+"-"+("0"+(q.getUTCMonth()+1)).slice(-2)+"-"+("0"+q.getUTCDate()).slice(-2)+"T"+("0"+q.getUTCHours()).slice(-2)+":"+("0"+q.getUTCMinutes()).slice(-2)+":"+("0"+q.getUTCSeconds()).slice(-2)+"."+("00"+q.getUTCMilliseconds()).slice(-3)+"Z",this.__internalEnd=N;else if(this.__endDatatype===it.Datatype.Datetime&&null!==r){var q;N=(q=new Date(r-Y)).getUTCFullYear()+"-"+("0"+(q.getUTCMonth()+1)).slice(-2)+"-"+("0"+q.getUTCDate()).slice(-2)+"T"+("0"+q.getUTCHours()).slice(-2)+":"+("0"+q.getUTCMinutes()).slice(-2)+":"+("0"+q.getUTCSeconds()).slice(-2)+"."+("00"+q.getUTCMilliseconds()).slice(-3)+"Z",this.__internalEnd=N}else this.__startDatatype===it.Datatype.Datetime&&(U=(X=new Date(R.getTime()-Y)).getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z",this.__internalStart=U);if(this.__mouseMode===it.MouseMode.PanXY&&null!=(H=this.__lineChart.getYAxis())&&0<H.length){for(y=0,b=H.length;y<b;y++){T=void 0,A=H[y].getMainTickStartValueOverride();var J=H[y].getMainTickStartValue();if(null!==A)T=A;else{if(null===J)continue;T=J}F=void 0,w=H[y].getMainTickEndValueOverride();var K=H[y].getMainTickEndValue();if(null!==w)F=w;else{if(null===K)continue;F=K}var $,Q=($=F-T)*(this.__manipulationInfo.transform.y/u);E=T+Q,M=F+Q,null!==this.__internalYAxis&&(this.__internalYAxis[y].autoScaling=!1,this.__internalYAxis[y].mainTickMaxValue=M,this.__internalYAxis[y].mainTickMinValue=E)}et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxis"])}this.__openWebsocket(),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}}}}}this.__lastInteraction=!0;var tt=this.__elementChart.find(".tchmi-trend-line-chart-canvas-zooming");0<tt.length&&tt.removeClass("tchmi-no-pointer-events")}},it.prototype.__userMultitouchStart=function(t){if(this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},this.__zoomingCanvasContext&&this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height),null!==this.__lineChart){var e=this.__lineChart.getYAxisAtPosition(0);if(e){var i=e.getAxisWidth();if(null!==i){var n=e.getDiffEndLabelAndLine()+i/2+5+this.__lineChart.getDrawingBorder(),o=this.__lineChart.getXAxis(),s=0;null!==o&&(s=o.getXAxisLeftWidth()||0);var r=0;null!==o&&(r=o.getLineWidth());var a=e.getLineHeight(),l=t.touches[0].clientX-this.__multitouchInfo.offset.left,_=t.touches[0].clientY-this.__multitouchInfo.offset.top,h=t.touches[1].clientX-this.__multitouchInfo.offset.left,u=t.touches[1].clientY-this.__multitouchInfo.offset.top;if(l<s||s+r<l||_<n||n+a<_)return;if(h<s||s+r<h||u<n||n+a<u)return;this.__multitouchInfo.first.identifier=t.touches[0].identifier,this.__multitouchInfo.second.identifier=t.touches[1].identifier,this.__multitouchInfo.multitouchMode=!0;var d=l-h,c=_-u;this.__multitouchInfo.distance=Math.sqrt(d*d+c*c)}}}},it.prototype.__userMultitouchMove=function(t){if(this.__multitouchInfo.multitouchMode){var e=t.touches[0].clientX-this.__multitouchInfo.offset.left,i=t.touches[0].clientY-this.__multitouchInfo.offset.top,n=t.touches[1].clientX-this.__multitouchInfo.offset.left,o=t.touches[1].clientY-this.__multitouchInfo.offset.top,s=e-n,r=i-o,a=Math.sqrt(s*s+r*r),l=0<1-this.__multitouchInfo.distance/a?1:-1,_=0;if(null===this.__multitouchInfo.newTimespan){if(null===this.__lineChart)return;if(null===(v=this.__lineChart.getXAxis()))return;var h=v.getMainTickStartValue(),u=v.getMainTickEndValue();null!==h&&null!==u&&(_=u-h)}else _=this.__multitouchInfo.newTimespan;if(1<=_){var d=Math.floor(Math.log(_)/Math.LN10),c=_*((_-l*Math.pow(10,d-1)*1.5)/_);if(c<1&&(c=1),c===_)return;var p={x:0,y:0};if(p.x=Math.round((e+n)/2),p.y=Math.round((i+o)/2),null!==this.__lineChart){var m=this.__lineChart.getYAxisAtPosition(0);if(m){var g=m.getAxisWidth();if(null!==g){var v,C=m.getDiffEndLabelAndLine()+g/2+5+this.__lineChart.getDrawingBorder(),f=0;null!==(v=this.__lineChart.getXAxis())&&(f=v.getXAxisLeftWidth()||0);var S=0;null!==v&&(S=v.getLineWidth());var y=m.getLineHeight();if(null!==v){h=v.getMainTickStartValue(),u=v.getMainTickEndValue();var b=0;if(null!==h&&null!==u){var x=c/(b=u-h);if(u=(h+=(b-c)*((p.x-f)/S))+c,v.setMainTickStartValue(h),v.setMainTickEndValue(u),v.setAutoScaling(!1),this.__lineChart.setHasChanged(!0),this.__lineChart.setLineChanged(!0),this.__mouseMode===it.MouseMode.PanXY||this.__mouseMode===it.MouseMode.ZoomXY){if(this.__lineChart&&this.__internalYAxis){var T=this.__internalYAxis.slice(0,this.__internalYAxis.length);if((P=this.__lineChart.getYAxis())&&T){for(var A=0,D=P.length;A<D;A++){P[A].getDecimalPlaces();var F=P[A].getAutoScaling(),w=void 0,L=P[A].getMainTickStartValueOverride(),E=P[A].getMainTickStartValue();if(F&&null!==L)w=L;else{if(null===E)continue;w=E}var M=void 0,I=P[A].getMainTickEndValueOverride(),B=P[A].getMainTickEndValue();if(F&&null!==I)M=I;else{if(null===B)continue;M=B}var V=M-w,k=V*x;w=(M-=(V-k)*((p.y-C)/y))-k,T[A]&&(T[A].autoScaling=!1,T[A].mainTickMaxValue=M,T[A].mainTickMinValue=w),P[A].setAutoScaling(!1),P[A].setMainTickEndValue(M),P[A].setMainTickStartValue(w)}this.__multitouchInfo.newYAxis=T}}}else if(this.__lineChart&&this.__internalYAxis){var P;if(T=this.__internalYAxis.slice(0,this.__internalYAxis.length),null!=(P=this.__lineChart.getYAxis())&&T){for(A=0,D=P.length;A<D;A++)P[A].getAutoScaling()&&T[A]&&(L=P[A].getMainTickStartValueOverride(),I=P[A].getMainTickEndValueOverride(),null!==L&&(T[A].mainTickMinValue=L,P[A].setMainTickStartValue(L)),null!==I&&(T[A].mainTickMaxValue=I,P[A].setMainTickEndValue(I)),T[A].autoScaling=!1,P[A].setAutoScaling(!1));this.__multitouchInfo.newYAxis=T}}this.__lineChart.draw(),this.__multitouchInfo.newStart=h,this.__multitouchInfo.newTimespan=c}}}}}}this.__multitouchInfo.distance=a}},it.prototype.__userMultitouchEnd=function(t){if(this.__multitouchInfo.multitouchMode)for(var e=0,i=t.changedTouches.length;e<i;e++)if(t.changedTouches[e].identifier===this.__multitouchInfo.first.identifier||t.changedTouches[e].identifier===this.__multitouchInfo.second.identifier){if(null!==this.__multitouchInfo.newStart&&null!==this.__multitouchInfo.newTimespan){var n=new Date(this.__multitouchInfo.newStart);if(this.__endDatatype===it.Datatype.Datetime){var o=new Date(n.getTime()+this.__multitouchInfo.newTimespan),s=o.getUTCFullYear()+"-"+("0"+(o.getUTCMonth()+1)).slice(-2)+"-"+("0"+o.getUTCDate()).slice(-2)+"T"+("0"+o.getUTCHours()).slice(-2)+":"+("0"+o.getUTCMinutes()).slice(-2)+":"+("0"+o.getUTCSeconds()).slice(-2)+"."+("00"+o.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=s}else this.__internalEnd=this.__milliSecToIso(this.__multitouchInfo.newTimespan);if(this.__startDatatype===it.Datatype.Datetime){var r=n.getUTCFullYear()+"-"+("0"+(n.getUTCMonth()+1)).slice(-2)+"-"+("0"+n.getUTCDate()).slice(-2)+"T"+("0"+n.getUTCHours()).slice(-2)+":"+("0"+n.getUTCMinutes()).slice(-2)+":"+("0"+n.getUTCSeconds()).slice(-2)+"."+("00"+n.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=r}else this.__internalStart=this.__milliSecToIso(this.__multitouchInfo.newTimespan);null!==this.__multitouchInfo.newYAxis&&(this.__internalYAxis=this.__multitouchInfo.newYAxis),this.__openWebsocket()}return void(this.__multitouchInfo={multitouchMode:!1,first:{identifier:null},second:{identifier:null},offset:{left:0,top:0},distance:0,newStart:null,newTimespan:null,newYAxis:null})}},it.prototype.__onMouseWheel=function(){var d=this;return function(t){if(!d.__manipulationInfo.isManipulating&&d.getIsEnabled()&&"Latest"!==d.__internalEnd&&"First"!==d.__internalStart&&null!==d.__internalEnd&&null!==d.__internalStart&&null!==d.__lineChart){var e=d.__lineChart.getYAxisAtPosition(0);if(e){var i=e.getAxisWidth();if(null!==i){var n=t.target.getBoundingClientRect(),o=t.clientX-n.left,s=t.clientY-n.top,b=e.getDiffEndLabelAndLine()+i/2+5+d.__lineChart.getDrawingBorder(),x=d.__lineChart.getXAxis(),T=0;null!==x&&(T=x.getXAxisLeftWidth()||0);var A=0;null!==x&&(A=x.getLineWidth());var D=e.getLineHeight();if(o<T||T+A<o||s<b||b+D<s)return;d.__wheelInfo.isWheeling=!0,d.__wheelInfo.mousePosition={x:o,y:s};var r=0;if(null===d.__wheelInfo.timespan){if(null===x)return;var a=x.getMainTickStartValue(),l=x.getMainTickEndValue();null!==a&&null!==l&&(r=l-a)}else r=d.__wheelInfo.timespan;if(1<r){var _=void 0;switch(t.deltaMode){case WheelEvent.DOM_DELTA_PAGE:_=800*-t.deltaY;break;case WheelEvent.DOM_DELTA_LINE:_=40*-t.deltaY;break;case WheelEvent.DOM_DELTA_PIXEL:default:_=-t.deltaY}_=Math.max(-1,Math.min(1,_)),d.__wheelInfo.wheelSteps=d.__wheelInfo.wheelSteps+_;var h=Math.floor(Math.log(r)/Math.LN10),u=r*((r-_*Math.pow(10,h-1)*2)/r);u<1&&(u=1),d.__wheelInfo.timespan=u}if(d.__wheelInfo.timeout)return;var F=d;d.__wheelInfo.timeout=setTimeout(function(){if(null!==F.__wheelInfo.timespan&&null!==x){var t=x.getMainTickStartValue(),e=x.getMainTickEndValue(),i=0;if(null!==t&&null!==e){i=e-t;var n=F.__wheelInfo.timespan/i,o=(F.__wheelInfo.mousePosition.x-T)/A;t+=(i-F.__wheelInfo.timespan)*o;var s,r=new Date(t);if(F.__endDatatype===it.Datatype.Datetime){var a=new Date(r.getTime()+F.__wheelInfo.timespan),l=a.getUTCFullYear()+"-"+("0"+(a.getUTCMonth()+1)).slice(-2)+"-"+("0"+a.getUTCDate()).slice(-2)+"T"+("0"+a.getUTCHours()).slice(-2)+":"+("0"+a.getUTCMinutes()).slice(-2)+":"+("0"+a.getUTCSeconds()).slice(-2)+"."+("00"+a.getUTCMilliseconds()).slice(-3)+"Z";F.__internalEnd=l}else F.__internalEnd=F.__milliSecToIso(F.__wheelInfo.timespan);if(F.__startDatatype===it.Datatype.Datetime){var _=r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"T"+("0"+r.getUTCHours()).slice(-2)+":"+("0"+r.getUTCMinutes()).slice(-2)+":"+("0"+r.getUTCSeconds()).slice(-2)+"."+("00"+r.getUTCMilliseconds()).slice(-3)+"Z";F.__internalStart=_}else F.__internalStart=F.__milliSecToIso(F.__wheelInfo.timespan);if(F.__mouseMode===it.MouseMode.PanXY||F.__mouseMode===it.MouseMode.ZoomXY){if(F.__lineChart&&F.__internalYAxis&&null!=(s=F.__lineChart.getYAxis())){for(var h=!1,u=0,d=s.length;u<d;u++){s[u].getDecimalPlaces();var c=s[u].getAutoScaling(),p=void 0,m=s[u].getMainTickStartValueOverride(),g=s[u].getMainTickStartValue();if(c&&null!==m)p=m;else{if(null===g)continue;p=g}var v=void 0,C=s[u].getMainTickEndValueOverride(),f=s[u].getMainTickEndValue();if(c&&null!==C)v=C;else{if(null===f)continue;v=f}var S=v-p,y=S*n;p=(v-=(S-y)*((F.__wheelInfo.mousePosition.y-b)/D))-y,null!==F.__internalYAxis&&(F.__internalYAxis[u].autoScaling=!1,F.__internalYAxis[u].mainTickMaxValue=v,F.__internalYAxis[u].mainTickMinValue=p,h=!0)}h&&et.EventProvider.raise(F.__id+".onFunctionResultChanged",["getYAxis"])}}else if(F.__lineChart&&F.__internalYAxis&&null!=(s=F.__lineChart.getYAxis())){for(h=!1,u=0,d=s.length;u<d;u++)s[u].getAutoScaling()&&(m=s[u].getMainTickStartValueOverride(),C=s[u].getMainTickEndValueOverride(),null!==m&&(F.__internalYAxis[u].mainTickMinValue=m),null!==C&&(F.__internalYAxis[u].mainTickMaxValue=C),h=!(F.__internalYAxis[u].autoScaling=!1));h&&et.EventProvider.raise(F.__id+".onFunctionResultChanged",["getYAxis"])}F.__openWebsocket()}}F.__wheelInfo.timeout&&(clearTimeout(F.__wheelInfo.timeout),F.__wheelInfo.timeout=0),F.__wheelInfo={isWheeling:!1,wheelSteps:0,mousePosition:{x:0,y:0},timespan:null,timeout:0}},400)}}}}},it.prototype.setXAxisFormat=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisFormat"));var i=this.__objectResolvers.get("xAxisFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisFormat",{resolver:n,watchCallback:this.__onResolverForXAxisFormatWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisFormatWatchCallback)})},it.prototype.getXAxisFormat=function(){return this.__xAxisFormat},it.prototype.__processXAxisFormat=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setXAxisCallback(this.__xAxisCallbackFunction()),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.__xAxisCallbackFunction=function(){var s=this;return function(t){if(void 0!==s.__xAxisFormat&&null!==s.__xAxisFormat&&!1!==s.__xAxisFormat.active){var e=[t],i=null,n=new et.Function(s.__xAxisFormat);return n.executeEx(e,function(t){t.error===et.Errors.NONE?i=t.result:et.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+s.getId()+"] Execution of function="+s.__xAxisFormat.fn+" failed with error: "+et.Log.buildMessage(t.details))}),n.destroy(),i}if(isNaN(t)||"number"!=typeof t)return t+"";var o=new Date(t);return et.Localization.formatDate(o)}},it.prototype.stop=function(){if(this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&null!==this.__lineGraphData&&void 0!==this.__lineGraphData&&0!==this.__lineGraphData.length){if(null!==this.__lineChart&&("First"===this.__internalStart||"Latest"===this.__internalEnd)){var t=this.__lineChart.getXAxis();if(null!==t){var e=t.getMainTickStartValue(),i=t.getMainTickEndValue();if(null!==e&&null!==i){if("First"===this.__internalStart){var n=new Date(e);this.__internalStart=n.getUTCFullYear()+"-"+("0"+(n.getUTCMonth()+1)).slice(-2)+"-"+("0"+n.getUTCDate()).slice(-2)+"T"+("0"+n.getUTCHours()).slice(-2)+":"+("0"+n.getUTCMinutes()).slice(-2)+":"+("0"+n.getUTCSeconds()).slice(-2)+"."+("00"+n.getUTCMilliseconds()).slice(-3)+"Z",this.__startDatatype=it.Datatype.Datetime}"Latest"===this.__internalEnd&&(n=new Date(i),this.__internalEnd=n.getUTCFullYear()+"-"+("0"+(n.getUTCMonth()+1)).slice(-2)+"-"+("0"+n.getUTCDate()).slice(-2)+"T"+("0"+n.getUTCHours()).slice(-2)+":"+("0"+n.getUTCMinutes()).slice(-2)+":"+("0"+n.getUTCSeconds()).slice(-2)+"."+("00"+n.getUTCMilliseconds()).slice(-3)+"Z",this.__endDatatype=it.Datatype.Datetime)}}}this.__startEndBeforeZoom={end:this.__internalEnd,start:this.__internalStart},this.__openWebsocket()}},it.prototype.resetZoom=function(){if(this.__yAxis){if(0<this.__yAxis.length&&null!==this.__internalYAxis){function t(t,e){var i=s.__internalYAxis[t].id,n=s.__yAxis.filter(function(t){return t.id===i});if(0===n.length){var o=et.Theme.Resources.get(s,"YAxisGenerated");o&&null!==o.value?(s.__internalYAxis[t].autoScaling=o.value.autoScaling,s.__internalYAxis[t].mainTickMaxValue=o.value.mainTickMaxValue,s.__internalYAxis[t].mainTickMinValue=o.value.mainTickMinValue):s.__internalYAxis[t].autoScaling=!0}else s.__internalYAxis[t].autoScaling=n[0].autoScaling,s.__internalYAxis[t].mainTickMaxValue=n[0].mainTickMaxValue,s.__internalYAxis[t].mainTickMinValue=n[0].mainTickMinValue}for(var s=this,e=0,i=this.__internalYAxis.length;e<i;e++)t(e)}else if(null!==this.__internalYAxis)for(e=0,i=this.__internalYAxis.length;e<i;e++)this.__internalYAxis[e].autoScaling=!0}else if(null!==this.__internalYAxis)for(e=0,i=this.__internalYAxis.length;e<i;e++)this.__internalYAxis[e].autoScaling=!0;this.__internalEnd!==this.__startEndBeforeZoom.end||this.__internalStart!==this.__startEndBeforeZoom.start?(this.__internalEnd=this.__startEndBeforeZoom.end,this.__internalStart=this.__startEndBeforeZoom.start,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=it.Datatype.Keyword:this.__startDatatype=it.Datatype.Timespan,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=it.Datatype.Keyword:this.__endDatatype=it.Datatype.Timespan,this.__openWebsocket()):this.__drawLineChart()},it.prototype.reset=function(){var t=!1;if(this.__internalStart!==this.__start&&this.__start&&(this.__internalStart=this.__start,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=it.Datatype.Keyword:this.__startDatatype=it.Datatype.Timespan,t=!0),this.__internalEnd!==this.__end&&this.__end&&(this.__internalEnd=this.__end,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=it.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=it.Datatype.Keyword:this.__endDatatype=it.Datatype.Timespan,t=!0),this.__lastInteraction=!1,this.__yAxis){if(0<this.__yAxis.length&&null!==this.__internalYAxis){function e(t,e){var i=s.__internalYAxis[t].id,n=s.__yAxis.filter(function(t){return t.id===i});if(0===n.length){var o=et.Theme.Resources.get(s,"YAxisGenerated");o&&null!==o.value?(s.__internalYAxis[t].autoScaling=o.value.autoScaling,s.__internalYAxis[t].mainTickMaxValue=o.value.mainTickMaxValue,s.__internalYAxis[t].mainTickMinValue=o.value.mainTickMinValue):s.__internalYAxis[t].autoScaling=!0}else s.__internalYAxis[t].autoScaling=n[0].autoScaling,s.__internalYAxis[t].mainTickMaxValue=n[0].mainTickMaxValue,s.__internalYAxis[t].mainTickMinValue=n[0].mainTickMinValue}for(var s=this,i=0,n=this.__internalYAxis.length;i<n;i++)e(i)}else if(null!==this.__internalYAxis)for(i=0,n=this.__internalYAxis.length;i<n;i++)this.__internalYAxis[i].autoScaling=!0}else if(null!==this.__internalYAxis)for(i=0,n=this.__internalYAxis.length;i<n;i++)this.__internalYAxis[i].autoScaling=!0;t&&this.__openWebsocket()},it.prototype.showOptions=function(){null===this.__elementMenuBarDropdown[0].parentElement?et.TopMostLayer.add(this,this.__elementMenuBarDropdown,{centerHorizontal:!0,centerVertical:!0}):et.TopMostLayer.remove(this,this.__elementMenuBarDropdown)},it.prototype.__calcMenuButtons=function(){if(0<this.__menuBarControls.length){this.__elementMenuBarDropdown.children().detach();for(var t=10,e=this.__menuBarControls.length-1;t<e;t++)0===this.__elementMenuBar.find("#"+this.__menuBarControls[t].getId()).length&&this.__elementMenuBar[0].insertBefore(this.__menuBarControls[t].getElement()[0],this.__elementMenuBar.children().last()[0]);for(var i=this.__elementMenuBar.width(),n=0,o=0,s=11;o<=s;o++)n+=this.__elementMenuBar.children().eq(o).outerWidth(!0);if(i<=(n+=this.__elementMenuBar.children().last().width()||0))for(o=0,s=this.__menuBarControls.length;o<s;o++)"tchmi-button"!==this.__menuBarControls[o].getType()&&"tchmi-toggle-button"!==this.__menuBarControls[o].getType()||-1!==this.__menuBarControls[o].getId().search("options")||-1===(l=this.__menuBarControls[o]).getId().indexOf("timespan")&&-1===l.getId().indexOf("datetime")&&this.__elementMenuBarDropdown.append(l.getElement());else for(o=10,s=this.__menuBarControls.length-1;o<s;o++)if(i<=(n+=$(this.__elementMenuBar.children()[o+2]).outerWidth(!0)))for(var r=o,a=this.__menuBarControls.length-1;r<a;r++){var l;-1===(l=this.__menuBarControls[r]).getId().indexOf("timespan")&&-1===l.getId().indexOf("datetime")&&this.__elementMenuBarDropdown.append(l.getElement())}0<this.__elementMenuBarDropdown[0].childElementCount?this.__menuBarControls[this.__menuBarControls.length-1].setVisibility("Visible"):this.__menuBarControls[this.__menuBarControls.length-1].setVisibility("Collapsed")}},it.prototype.__setMenuButtonsFromStart=function(){for(var t=0,e=this.__menuBarControls.length;t<e;t++)this.__menuBarControls[t].getId()===this.__id+"_stopButton"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_panxButton"||this.__menuBarControls[t].getId()===this.__id+"_panxyButton"||this.__menuBarControls[t].getId()===this.__id+"_zoomxButton"||this.__menuBarControls[t].getId()===this.__id+"_zoomxyButton"||this.__menuBarControls[t].getId()===this.__id+"_resetZoomButton"||this.__menuBarControls[t].getId()===this.__id+"_resetButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()!==this.__id+"_startCombobox"&&this.__menuBarControls[t].getId()!==this.__id+"_endCombobox"&&this.__menuBarControls[t].getId()!==this.__id+"_timespanButtonStart"&&this.__menuBarControls[t].getId()!==this.__id+"_timespanButtonEnd"&&this.__menuBarControls[t].getId()!==this.__id+"_datetimeButtonStart"&&this.__menuBarControls[t].getId()!==this.__id+"_datetimeButtonEnd"||this.__menuBarControls[t].setIsEnabled(!0)},it.prototype.__setMenuButtonsFromStop=function(){for(var t=!1,e=0,i=this.__menuBarControls.length;e<i;e++)this.__menuBarControls[e].getId()===this.__id+"_stopButton"?this.__menuBarControls[e].setIsEnabled(!1):this.__menuBarControls[e].getId()===this.__id+"_panxButton"||this.__menuBarControls[e].getId()===this.__id+"_panxyButton"||this.__menuBarControls[e].getId()===this.__id+"_zoomxButton"||this.__menuBarControls[e].getId()===this.__id+"_zoomxyButton"?(this.__menuBarControls[e].setIsEnabled(!0),"Active"===this.__menuBarControls[e].getToggleState()&&(t=!0)):this.__menuBarControls[e].getId()===this.__id+"_resetZoomButton"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_resetButton"?"First"!==this.__start&&"Latest"!==this.__end?this.__menuBarControls[e].setIsEnabled(!1):this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()!==this.__id+"_startCombobox"&&this.__menuBarControls[e].getId()!==this.__id+"_endCombobox"&&this.__menuBarControls[e].getId()!==this.__id+"_timespanButtonStart"&&this.__menuBarControls[e].getId()!==this.__id+"_timespanButtonEnd"&&this.__menuBarControls[e].getId()!==this.__id+"_datetimeButtonStart"&&this.__menuBarControls[e].getId()!==this.__id+"_datetimeButtonEnd"||this.__menuBarControls[e].setIsEnabled(!0);if(!t){var n=this.__menuBarControls[12];n.getId()===this.__id+"_panxButton"&&n.setToggleState("Active")}},it.prototype.setSectionsBackgroundColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("SectionsBackgroundColor"));var i=this.__objectResolvers.get("sectionsBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("sectionsBackgroundColor",{resolver:n,watchCallback:this.__onResolverForSectionsBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForSectionsBackgroundColorWatchCallback)})},it.prototype.getSectionsBackgroundColor=function(){return this.__sectionsBackgroundColor},it.prototype.__processSectionsBackgroundColor=function(){et.StyleProvider.processBackgroundColor(this.__elementMenuBar,this.__sectionsBackgroundColor),et.StyleProvider.processBackgroundColor(this.__elementChart,this.__sectionsBackgroundColor)},it.prototype.setYAxisWidth=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("YAxisWidth")),e!==this.__yAxisWidth&&(this.__yAxisWidth=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxisWidth"]),this.__processYAxisWidth())},it.prototype.getYAxisWidth=function(){return this.__yAxisWidth},it.prototype.__processYAxisWidth=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),this.__lineChart.draw())},it.prototype.setYLabelFontFamily=function(t){var e=et.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontFamily")),e!==this.__yLabelFontFamily&&(this.__yLabelFontFamily=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontFamily"]),this.__processYLabelFontFamily())},it.prototype.getYLabelFontFamily=function(){return this.__yLabelFontFamily},it.prototype.__processYLabelFontFamily=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontFamily(this.__yLabelFontFamily),this.__lineChart.draw())},it.prototype.setYLabelFontSize=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontSize")),e!==this.__yLabelFontSize&&(this.__yLabelFontSize=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontSize"]),this.__processYLabelFontSize())},it.prototype.getYLabelFontSize=function(){return this.__yLabelFontSize},it.prototype.__processYLabelFontSize=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),this.__lineChart.draw())},it.prototype.setYLabelFontSizeUnit=function(t){var e=et.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontSizeUnit")),e!==this.__yLabelFontSizeUnit&&(this.__yLabelFontSizeUnit=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontSizeUnit"]),this.__processYLabelFontSizeUnit())},it.prototype.getYLabelFontSizeUnit=function(){return this.__yLabelFontSizeUnit},it.prototype.__processYLabelFontSizeUnit=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),this.__lineChart.draw())},it.prototype.setYLabelFontWeight=function(t){var e=et.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontWeight")),e!==this.__yLabelFontWeight&&(this.__yLabelFontWeight=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontWeight"]),this.__processYLabelFontWeight())},it.prototype.getYLabelFontWeight=function(){return this.__yLabelFontWeight},it.prototype.__processYLabelFontWeight=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),this.__lineChart.draw())},it.prototype.setYMainTickSteps=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("YMainTickSteps")),e!==this.__yMainTickSteps&&(this.__yMainTickSteps=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYMainTickSteps"]),this.__processYMainTickSteps())},it.prototype.getYMainTickSteps=function(){return this.__yMainTickSteps},it.prototype.__processYMainTickSteps=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),this.__lineChart.draw())},it.prototype.setShowYSubTicks=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowYSubTicks")),e!==this.__showYSubTicks&&(this.__showYSubTicks=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowYSubTicks"]),this.__processShowYSubTicks())},it.prototype.getShowYSubTicks=function(){return this.__showYSubTicks},it.prototype.__processShowYSubTicks=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setShowYSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks),this.__lineChart.draw())},it.prototype.setYSubTickSteps=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("YSubTickSteps")),e!==this.__ySubTickSteps&&(this.__ySubTickSteps=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYSubTickSteps"]),this.__processYSubTickSteps())},it.prototype.getYSubTickSteps=function(){return this.__ySubTickSteps},it.prototype.__processYSubTickSteps=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),this.__lineChart.draw())},it.prototype.setShowXAxis=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXAxis")),e!==this.__showXAxis&&(this.__showXAxis=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXAxis"]),this.__processShowXAxis())},it.prototype.getShowXAxis=function(){return this.__showXAxis},it.prototype.__processShowXAxis=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowAxis(void 0===this.__showXAxis?this.getAttributeDefaultValueInternal("ShowXAxis"):this.__showXAxis),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXShowLabels=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("XShowLabels")),e!==this.__xShowLabels&&(this.__xShowLabels=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXShowLabels"]),this.__processXShowLabels())},it.prototype.getXShowLabels=function(){return this.__xShowLabels},it.prototype.__processXShowLabels=function(){if(!TCHMI_ENABLE_DESIGNER_MODE_MASTER&&null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowLabels(void 0===this.__xShowLabels?this.getAttributeDefaultValueInternal("XShowLabels"):this.__xShowLabels),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXMainTickSteps=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("XMainTickSteps")),e!==this.__xMainTickSteps&&(this.__xMainTickSteps=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXMainTickSteps"]),this.__processXMainTickSteps())},it.prototype.getXMainTickSteps=function(){return this.__xMainTickSteps},it.prototype.__processXMainTickSteps=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setMainTickSteps(void 0===this.__xMainTickSteps?this.getAttributeDefaultValueInternal("XMainTickSteps"):this.__xMainTickSteps),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setShowXSubTicks=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXSubTicks")),e!==this.__showXSubTicks&&(this.__showXSubTicks=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXSubTicks"]),this.__processShowXSubTicks())},it.prototype.getShowXSubTicks=function(){return this.__showXSubTicks},it.prototype.__processShowXSubTicks=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowSubTicks(void 0===this.__showXSubTicks?this.getAttributeDefaultValueInternal("ShowXSubTicks"):this.__showXSubTicks),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXSubTickSteps=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("XSubTickSteps")),e!==this.__xSubTickSteps&&(this.__xSubTickSteps=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXSubTickSteps"]),this.__processXSubTickSteps())},it.prototype.getXSubTickSteps=function(){return this.__xSubTickSteps},it.prototype.__processXSubTickSteps=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setSubTickSteps(void 0===this.__xSubTickSteps?this.getAttributeDefaultValueInternal("XSubTickSteps"):this.__xSubTickSteps),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXLabelFontFamily=function(t){var e=et.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontFamily")),e!==this.__xLabelFontFamily&&(this.__xLabelFontFamily=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontFamily"]),this.__processXLabelFontFamily())},it.prototype.getXLabelFontFamily=function(){return this.__xLabelFontFamily},it.prototype.__processXLabelFontFamily=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontFamily(this.__xLabelFontFamily),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXLabelFontSize=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontSize")),e!==this.__xLabelFontSize&&(this.__xLabelFontSize=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontSize"]),this.__processXLabelFontSize())},it.prototype.getXLabelFontSize=function(){return this.__xLabelFontSize},it.prototype.__processXLabelFontSize=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontSize(void 0===this.__xLabelFontSize?this.getAttributeDefaultValueInternal("XLabelFontSize"):this.__xLabelFontSize),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXLabelFontSizeUnit=function(t){var e=et.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontSizeUnit")),e!==this.__xLabelFontSizeUnit&&(this.__xLabelFontSizeUnit=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontSizeUnit"]),this.__processXLabelFontSizeUnit())},it.prototype.getXLabelFontSizeUnit=function(){return this.__xLabelFontSizeUnit},it.prototype.__processXLabelFontSizeUnit=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontSizeUnit(void 0===this.__xLabelFontSizeUnit?this.getAttributeDefaultValueInternal("XLabelFontSizeUnit"):this.__xLabelFontSizeUnit),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXLabelFontWeight=function(t){var e=et.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontWeight")),e!==this.__xLabelFontWeight&&(this.__xLabelFontWeight=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontWeight"]),this.__processXLabelFontWeight())},it.prototype.getXLabelFontWeight=function(){return this.__xLabelFontWeight},it.prototype.__processXLabelFontWeight=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontWeight(void 0===this.__xLabelFontWeight?this.getAttributeDefaultValueInternal("XLabelFontWeight"):this.__xLabelFontWeight),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXLabelFontColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontColor"));var i=this.__objectResolvers.get("xLabelFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("xLabelFontColor",{resolver:n,watchCallback:this.__onResolverForXLabelFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXLabelFontColorWatchCallback)})},it.prototype.getXLabelFontColor=function(){return this.__xLabelFontColor},it.prototype.__processXLabelFontColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(et.isSolidColor(this.__xLabelFontColor)?t.setLabelFontColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xLabelFontColor)):t.setLabelFontColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisWidth=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisWidth")),e!==this.__xAxisWidth&&(this.__xAxisWidth=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisWidth"]),this.__processXAxisWidth())},it.prototype.getXAxisWidth=function(){return this.__xAxisWidth},it.prototype.__processXAxisWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisWidth(void 0===this.__xAxisWidth?this.getAttributeDefaultValueInternal("XAxisWidth"):this.__xAxisWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisColor"));var i=this.__objectResolvers.get("xAxisColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisColor",{resolver:n,watchCallback:this.__onResolverForXAxisColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisColorWatchCallback)})},it.prototype.getXAxisColor=function(){return this.__xAxisColor},it.prototype.__processXAxisColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(et.isSolidColor(this.__xAxisColor)?t.setAxisColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisColor)):t.setAxisColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setShowXAxisName=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXAxisName")),e!==this.__showXAxisName&&(this.__showXAxisName=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXAxisName"]),this.__processShowXAxisName())},it.prototype.getShowXAxisName=function(){return this.__showXAxisName},it.prototype.__processShowXAxisName=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowAxisName(void 0===this.__showXAxisName?this.getAttributeDefaultValueInternal("ShowXAxisName"):this.__showXAxisName),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisName=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisName")),e!==this.__xAxisName&&(this.__xAxisName=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisName"]),this.__processXAxisName())},it.prototype.getXAxisName=function(){return this.__xAxisName},it.prototype.__processXAxisName=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisName(void 0===this.__xAxisName?this.getAttributeDefaultValueInternal("XAxisName"):this.__xAxisName),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisNameFontFamily=function(t){var e=et.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontFamily")),e!==this.__xAxisNameFontFamily&&(this.__xAxisNameFontFamily=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontFamily"]),this.__processXAxisNameFontFamily())},it.prototype.getXAxisNameFontFamily=function(){return this.__xAxisNameFontFamily},it.prototype.__processXAxisNameFontFamily=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontFamily(this.__xAxisNameFontFamily),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisNameFontSize=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontSize")),e!==this.__xAxisNameFontSize&&(this.__xAxisNameFontSize=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontSize"]),this.__processXAxisNameFontSize())},it.prototype.getXAxisNameFontSize=function(){return this.__xAxisNameFontSize},it.prototype.__processXAxisNameFontSize=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontSize(void 0===this.__xAxisNameFontSize?this.getAttributeDefaultValueInternal("XAxisNameFontSize"):this.__xAxisNameFontSize),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisNameFontSizeUnit=function(t){var e=et.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit")),e!==this.__xAxisNameFontSizeUnit&&(this.__xAxisNameFontSizeUnit=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontSizeUnit"]),this.__processXAxisNameFontSizeUnit())},it.prototype.getXAxisNameFontSizeUnit=function(){return this.__xAxisNameFontSizeUnit},it.prototype.__processXAxisNameFontSizeUnit=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontSizeUnit(void 0===this.__xAxisNameFontSizeUnit?this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit"):this.__xAxisNameFontSizeUnit),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisNameFontWeight=function(t){var e=et.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontWeight")),e!==this.__xAxisNameFontWeight&&(this.__xAxisNameFontWeight=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontWeight"]),this.__processXAxisNameFontWeight())},it.prototype.getXAxisNameFontWeight=function(){return this.__xAxisNameFontWeight},it.prototype.__processXAxisNameFontWeight=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontWeight(void 0===this.__xAxisNameFontWeight?this.getAttributeDefaultValueInternal("XAxisNameFontWeight"):this.__xAxisNameFontWeight),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setXAxisNameFontColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontColor"));var i=this.__objectResolvers.get("xAxisNameFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisNameFontColor",{resolver:n,watchCallback:this.__onResolverForXAxisNameFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisNameFontColorWatchCallback)})},it.prototype.getXAxisNameFontColor=function(){return this.__xAxisNameFontColor},it.prototype.__processXAxisNameFontColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(et.isSolidColor(this.__xAxisNameFontColor)?t.setAxisNameFontColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisNameFontColor)):t.setAxisNameFontColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setYAxis=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("YAxis"));var i=this.__objectResolvers.get("yAxis");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("yAxis",{resolver:n,watchCallback:this.__onResolverForYAxisWatchCallback,watchDestroyer:n.watch(this.__onResolverForYAxisWatchCallback)})},it.prototype.getYAxis=function(){return this.__yAxis},it.prototype.__processYAxis=function(){if(this.__internalYAxis=[],void 0!==this.__yAxis&&(this.__internalYAxis=JSON.parse(JSON.stringify(this.__yAxis)),null===this.__internalYAxis&&(this.__internalYAxis=[])),this.__internalLineGraphDescription=[],void 0!==this.__lineGraphDescriptions&&(this.__internalLineGraphDescription=JSON.parse(JSON.stringify(this.__lineGraphDescriptions)),null===this.__internalLineGraphDescription&&(this.__internalLineGraphDescription=[])),this.__lineGraphDescriptions){function t(){if(void 0===n.__lineGraphDescriptions[o].yAxisId){for(var e=-1,t=!1;e++,(t=0<n.__internalYAxis.filter(function(t){return t.id===e}).length)&&e<=1e3;);if(!t){var i=et.Theme.Resources.get(n,"YAxisGenerated");i&&null!==i.value?(i.value.id=e,i.value.axisName=n.__lineGraphDescriptions[o].symbol,n.__internalYAxis.push(i.value)):n.__internalYAxis.push({id:e,position:it.AxisPosition.Left,labelFontColor:{color:"#4794da"},showLabels:!0,axisColor:{color:"#4794da"},showAxisName:!0,axisName:n.__lineGraphDescriptions[o].symbol,axisNameFontFamily:null,axisNameFontSize:15,axisNameFontSizeUnit:"px",axisNameFontWeight:"Bold",axisNameFontColor:{color:"#4794da"},decimalPlaces:2,autoScaling:!0}),n.__internalLineGraphDescription[o].yAxisId=e}}}for(var n=this,o=0,e=this.__lineGraphDescriptions.length;o<e;o++)t()}this.__isAttached&&null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__drawLineChart(),this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&!TCHMI_ENABLE_DESIGNER_MODE_MASTER&&this.__openWebsocket())},it.prototype.setLineGraphDescriptions=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("LineGraphDescriptions"));var i=this.__objectResolvers.get("lineGraphDescriptions");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("lineGraphDescriptions",{resolver:n,watchCallback:this.__onResolverForLineGraphDescriptionsWatchCallback,watchDestroyer:n.watch(this.__onResolverForLineGraphDescriptionsWatchCallback)})},it.prototype.getLineGraphDescriptions=function(){return this.__lineGraphDescriptions},it.prototype.__processLineGraphDescriptions=function(){if(this.__internalYAxis=[],void 0!==this.__yAxis&&(this.__internalYAxis=JSON.parse(JSON.stringify(this.__yAxis)),null===this.__internalYAxis&&(this.__internalYAxis=[])),this.__internalLineGraphDescription=[],void 0!==this.__lineGraphDescriptions&&(this.__internalLineGraphDescription=JSON.parse(JSON.stringify(this.__lineGraphDescriptions)),null===this.__internalLineGraphDescription&&(this.__internalLineGraphDescription=[])),this.__lineGraphDescriptions){function t(){if(void 0===n.__lineGraphDescriptions[o].yAxisId||null===n.__lineGraphDescriptions[o].yAxisId){for(var e=-1,t=!1;e++,(t=0<n.__internalYAxis.filter(function(t){return t.id===e}).length)&&e<=1e3;);if(!t){var i=et.Theme.Resources.get(n,"YAxisGenerated");i&&null!==i.value?(i.value.id=e,i.value.axisName=n.__lineGraphDescriptions[o].symbol,n.__internalYAxis.push(i.value)):n.__internalYAxis.push({id:e,position:it.AxisPosition.Left,labelFontColor:{color:"#4794da"},showLabels:!0,axisColor:{color:"#4794da"},showAxisName:!0,axisName:n.__lineGraphDescriptions[o].symbol,axisNameFontFamily:null,axisNameFontSize:15,axisNameFontSizeUnit:"px",axisNameFontWeight:"Bold",axisNameFontColor:{color:"#4794da"},decimalPlaces:2,autoScaling:!0}),n.__internalLineGraphDescription[o].yAxisId=e}}}for(var n=this,o=0,e=this.__lineGraphDescriptions.length;o<e;o++)t()}this.__isAttached&&null!==this.__lineChart&&void 0!==this.__lineChart&&this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&!TCHMI_ENABLE_DESIGNER_MODE_MASTER?this.__openWebsocket():(null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),this.__reset(),this.__drawLineChart())},it.prototype.setShowGrid=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowGrid")),e!==this.__showGrid&&(this.__showGrid=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowGrid"]),this.__processShowGrid())},it.prototype.getShowGrid=function(){return this.__showGrid},it.prototype.__processShowGrid=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){if(this.__showGrid){var t=this.__lineChart.getGrid();null==t&&(this.__lineChart.addGrid(),null!==(t=this.__lineChart.getGrid())&&(et.isSolidColor(this.__gridBackgroundColor)?t.setBackgroundColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):t.setBackgroundColor(null),et.isSolidColor(this.__gridLineColor)?t.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):t.setLineColor(null),t.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),t.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),t.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),t.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines)))}else this.__lineChart.deleteGrid();this.__lineChart.setHasChanged(!0),this.__lineChart.draw()}},it.prototype.setGridBackgroundColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridBackgroundColor"));var i=this.__objectResolvers.get("gridBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("gridBackgroundColor",{resolver:n,watchCallback:this.__onResolverForGridBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForGridBackgroundColorWatchCallback)})},it.prototype.getGridBackgroundColor=function(){return this.__gridBackgroundColor},it.prototype.__processGridBackgroundColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(et.isSolidColor(this.__gridBackgroundColor)?t.setBackgroundColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):t.setBackgroundColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setGridShowHorizontalLines=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridShowHorizontalLines")),e!==this.__gridShowHorizontalLines&&(this.__gridShowHorizontalLines=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridShowHorizontalLines"]),this.__processGridShowHorizontalLines())},it.prototype.getGridShowHorizontalLines=function(){return this.__gridShowHorizontalLines},it.prototype.__processGridShowHorizontalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setGridShowVerticalLines=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridShowVerticalLines")),e!==this.__gridShowVerticalLines&&(this.__gridShowVerticalLines=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridShowVerticalLines"]),this.__processGridShowVerticalLines())},it.prototype.getGridShowVerticalLines=function(){return this.__gridShowVerticalLines},it.prototype.__processGridShowVerticalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setGridLineWidth=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineWidth")),e!==this.__gridLineWidth&&(this.__gridLineWidth=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridLineWidth"]),this.__processGridLineWidth())},it.prototype.getGridLineWidth=function(){return this.__gridLineWidth},it.prototype.__processGridLineWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setGridLineStyle=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineStyle")),e!==this.__gridLineStyle&&(this.__gridLineStyle=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridLineStyle"]),this.__processGridLineStyle())},it.prototype.getGridLineStyle=function(){return this.__gridLineStyle},it.prototype.__processGridLineStyle=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setGridLineColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineColor"));var i=this.__objectResolvers.get("gridLineColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("gridLineColor",{resolver:n,watchCallback:this.__onResolverForGridLineColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForGridLineColorWatchCallback)})},it.prototype.getGridLineColor=function(){return this.__gridLineColor},it.prototype.__processGridLineColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(et.isSolidColor(this.__gridLineColor)?t.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):t.setLineColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setSubgridShowHorizontalLines=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines")),e!==this.__subgridShowHorizontalLines&&(this.__subgridShowHorizontalLines=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridShowHorizontalLines"]),this.__processSubgridShowHorizontalLines())},it.prototype.getSubgridShowHorizontalLines=function(){return this.__subgridShowHorizontalLines},it.prototype.__processSubgridShowHorizontalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setShowHorizontalLines(void 0===this.__subgridShowHorizontalLines?this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines"):this.__subgridShowHorizontalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setSubgridShowVerticalLines=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridShowVerticalLines")),e!==this.__subgridShowVerticalLines&&(this.__subgridShowVerticalLines=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridShowVerticalLines"]),this.__processSubgridShowVerticalLines())},it.prototype.getSubgridShowVerticalLines=function(){return this.__subgridShowVerticalLines},it.prototype.__processSubgridShowVerticalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setShowVerticalLines(void 0===this.__subgridShowVerticalLines?this.getAttributeDefaultValueInternal("SubgridShowVerticalLines"):this.__subgridShowVerticalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setSubgridLineWidth=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineWidth")),e!==this.__subgridLineWidth&&(this.__subgridLineWidth=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridLineWidth"]),this.__processSubgridLineWidth())},it.prototype.getSubgridLineWidth=function(){return this.__subgridLineWidth},it.prototype.__processSubgridLineWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setLineWidth(void 0===this.__subgridLineWidth?this.getAttributeDefaultValueInternal("SubgridLineWidth"):this.__subgridLineWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setSubgridLineStyle=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineStyle")),e!==this.__subgridLineStyle&&(this.__subgridLineStyle=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridLineStyle"]),this.__processSubgridLineStyle())},it.prototype.getSubgridLineStyle=function(){return this.__subgridLineStyle},it.prototype.__processSubgridLineStyle=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setLineStyle(void 0===this.__subgridLineStyle?this.getAttributeDefaultValueInternal("SubgridLineStyle"):this.__subgridLineStyle),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setSubgridLineColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineColor"));var i=this.__objectResolvers.get("subgridLineColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("subgridLineColor",{resolver:n,watchCallback:this.__onResolverForSubgridLineColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForSubgridLineColorWatchCallback)})},it.prototype.getSubgridLineColor=function(){return this.__subgridLineColor},it.prototype.__processSubgridLineColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(et.isSolidColor(this.__subgridLineColor)?t.setLineColor(et.StyleProvider.resolveSolidColorAsCssValue(this.__subgridLineColor)):t.setLineColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},it.prototype.setShowMenuBar=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowMenuBar")),e!==this.__showMenuBar&&(this.__showMenuBar=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowMenuBar"]),this.__processShowMenuBar())},it.prototype.getShowMenuBar=function(){return this.__showMenuBar},it.prototype.__processShowMenuBar=function(){if(this.__isAttached){if(0===this.__menuBarControls.length&&this.__showMenuBar&&(this.__addMenuBarControls(),this.__calcMenuButtons()),this.__showMenuBar&&void 0!==this.__menuBarPosition){et.StyleProvider.setSimpleElementStyle(this.__elementMenuBar,"display","flex");var t=this.__elementMenuBar.outerHeight(!0);it.MenuBarPosition[this.__menuBarPosition]===it.MenuBarPosition.Top&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:t+"px"}),it.MenuBarPosition[this.__menuBarPosition]===it.MenuBarPosition.Bottom&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:"0px"})}else this.__elementMenuBar.css("display","none"),this.__elementChart.css({height:"calc(100% - 10px)",top:"0px"});this.__drawLineChart()}},it.prototype.setMenuBarPosition=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarPosition")),tchmi_equal(e,this.__menuBarPosition)||(this.__menuBarPosition=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarPosition"]),this.__processMenuBarPosition())},it.prototype.getMenuBarPosition=function(){return this.__menuBarPosition},it.prototype.__processMenuBarPosition=function(){if(this.__isAttached&&this.__menuBarPosition){if(this.__showMenuBar&&void 0!==this.__menuBarPosition){var t=this.__elementMenuBar.outerHeight(!0);it.MenuBarPosition[this.__menuBarPosition]===it.MenuBarPosition.Top&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:t+"px"}),it.MenuBarPosition[this.__menuBarPosition]===it.MenuBarPosition.Bottom&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:"0px"})}else this.__elementChart.css({height:"calc(100% - 10px)",top:"0px"});it.MenuBarPosition.Bottom===it.MenuBarPosition[this.__menuBarPosition]?(this.__elementMenuBar.addClass("tchmi-trend-line-chart-template-menu-bar-bottom"),this.__elementMenuBar.removeClass("tchmi-trend-line-chart-template-menu-bar-top"),this.__elementMenuBar.css({"margin-bottom":"5px","margin-top":"0px"})):(this.__elementMenuBar.addClass("tchmi-trend-line-chart-template-menu-bar-top"),this.__elementMenuBar.removeClass("tchmi-trend-line-chart-template-menu-bar-bottom"),this.__elementMenuBar.css({"margin-bottom":"0px","margin-top":"5px"}))}},it.prototype.setMenuBarLabelFontSize=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontSize")),e!==this.__menuBarLabelFontSize&&(this.__menuBarLabelFontSize=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontSize"]),this.__processMenuBarLabelFontSize())},it.prototype.getMenuBarLabelFontSize=function(){return this.__menuBarLabelFontSize},it.prototype.__processMenuBarLabelFontSize=function(t){void 0===t&&(t=!0),et.StyleProvider.processFontSize(this.__elementMenuBar.find("label"),this.__menuBarLabelFontSize,this.__menuBarLabelFontSizeUnit),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setMenuBarLabelFontSizeUnit=function(t){var e=et.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontSizeUnit")),e!==this.__menuBarLabelFontSizeUnit&&(this.__menuBarLabelFontSizeUnit=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontSizeUnit"]),this.__processMenuBarLabelFontSizeUnit())},it.prototype.getMenuBarLabelFontSizeUnit=function(){return this.__menuBarLabelFontSizeUnit},it.prototype.__processMenuBarLabelFontSizeUnit=function(t){void 0===t&&(t=!0),et.StyleProvider.processFontSize(this.__elementMenuBar.find("label"),this.__menuBarLabelFontSize,this.__menuBarLabelFontSizeUnit),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setMenuBarLabelFontFamily=function(t){var e=et.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontFamily")),e!==this.__menuBarLabelFontFamily&&(this.__menuBarLabelFontFamily=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontFamily"]),this.__processMenuBarLabelFontFamily())},it.prototype.getMenuBarLabelFontFamily=function(){return this.__menuBarLabelFontFamily},it.prototype.__processMenuBarLabelFontFamily=function(t){void 0===t&&(t=!0),et.StyleProvider.processFontFamily(this.__elementMenuBar.find("label"),void 0===this.__menuBarLabelFontFamily?this.getAttributeDefaultValueInternal("MenuBarLabelFontFamily"):this.__menuBarLabelFontFamily),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setMenuBarLabelFontStyle=function(t){var e=et.ValueConverter.toFontStyle(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontStyle")),e!==this.__menuBarLabelFontStyle&&(this.__menuBarLabelFontStyle=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontStyle"]),this.__processMenuBarLabelFontStyle())},it.prototype.getMenuBarLabelFontStyle=function(){return this.__menuBarLabelFontStyle},it.prototype.__processMenuBarLabelFontStyle=function(t){void 0===t&&(t=!0),et.StyleProvider.processFontStyle(this.__elementMenuBar.find("label"),void 0===this.__menuBarLabelFontStyle?this.getAttributeDefaultValueInternal("MenuBarLabelFontStyle"):this.__menuBarLabelFontStyle),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setMenuBarLabelFontWeight=function(t){var e=et.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontWeight")),e!==this.__menuBarLabelFontWeight&&(this.__menuBarLabelFontWeight=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontWeight"]),this.__processMenuBarLabelFontWeight())},it.prototype.getMenuBarLabelFontWeight=function(){return this.__menuBarLabelFontWeight},it.prototype.__processMenuBarLabelFontWeight=function(t){void 0===t&&(t=!0),et.StyleProvider.processFontWeight(this.__elementMenuBar.find("label"),void 0===this.__menuBarLabelFontWeight?this.getAttributeDefaultValueInternal("MenuBarLabelFontWeight"):this.__menuBarLabelFontWeight),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setMenuBarLabelFontColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontColor"));var i=this.__objectResolvers.get("menuBarLabelFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("menuBarLabelFontColor",{resolver:n,watchCallback:this.__onResolverForMenuBarLabelFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForMenuBarLabelFontColorWatchCallback)})},it.prototype.getMenuBarLabelFontColor=function(){return this.__menuBarLabelFontColor},it.prototype.__processMenuBarLabelFontColor=function(t){void 0===t&&(t=!0),et.StyleProvider.processTextColor(this.__elementMenuBar.find("label"),void 0===this.__menuBarLabelFontColor?this.getAttributeDefaultValueInternal("MenuBarLabelFontColor"):this.__menuBarLabelFontColor),this.__isAttached&&t&&this.__calcMenuButtons()},it.prototype.setShowTooltip=function(t){var e=et.ValueConverter.toBoolean(t);null===e&&(e=this.getAttributeDefaultValueInternal("ShowTooltip")),e!==this.__showTooltip&&(this.__showTooltip=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowTooltip"]),this.__processShowTooltip())},it.prototype.getShowTooltip=function(){return this.__showTooltip},it.prototype.__processShowTooltip=function(){},it.prototype.setTooltipFormat=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFormat"));var i=this.__objectResolvers.get("tooltipFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipFormat",{resolver:n,watchCallback:this.__onResolverForTooltipFormatWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipFormatWatchCallback)})},it.prototype.getTooltipFormat=function(){return this.__tooltipFormat},it.prototype.__processTooltipFormat=function(){if(this.__tooltipInformation.show){var t=this.__executeTooltipFormatFunction(this.__tooltipInformation.time,this.__tooltipInformation.points,this.__tooltipInformation.errors);null!==t?this.__elementTooltipText[0].innerHTML=t:this.__elementTooltip.css("visibility","hidden")}},it.prototype.__executeTooltipFormatFunction=function(t,e,i){var n=this;if(void 0!==this.__tooltipFormat&&null!==this.__tooltipFormat&&!1!==this.__tooltipFormat.active){var o=[t,e,i],s=null,r=new et.Function(this.__tooltipFormat);return r.executeEx(o,function(t){t.error===et.Errors.NONE?s=t.result:et.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+n.getId()+"] Execution of function="+n.__tooltipFormat.fn+" failed with error: "+et.Log.buildMessage(t.details))}),r.destroy(),s}var a=document.createElement("table");a.setAttribute("class","tchmi-trend-line-chart-template-tooltip-info-table"),a.setAttribute("border","1");var l=a.createTHead(),_=a.createTBody();if(0<e.length){(d=document.createElement("table")).setAttribute("class","tchmi-trend-line-chart-template-tooltip-time-table"),d.setAttribute("border","1");var h=new Date(e[0].point.x),u=et.Localization.formatDate(h);return(c=d.insertRow()).insertCell().textContent="Capture time",c.insertCell().textContent=u,(p=l.insertRow()).appendChild(document.createElement("th")).textContent="Symbol",p.appendChild(document.createElement("th")).textContent="Value",(v=_.insertRow()).insertCell().appendChild(document.createTextNode(e[0].symbolname)),v.insertCell().appendChild(document.createTextNode(e[0].point.y.toString())),d.outerHTML+a.outerHTML}if(0<i.length){var d,c,p;(d=document.createElement("table")).setAttribute("class","tchmi-trend-line-chart-template-tooltip-time-table"),d.setAttribute("border","1"),h=new Date(t),u=et.Localization.formatDate(h),(c=d.insertRow()).insertCell().textContent="Time",c.insertCell().textContent=u,(p=l.insertRow()).appendChild(document.createElement("th")).textContent="Symbol(s) in error";for(var m=0,g=i.length;m<g;m++){var v;(v=_.insertRow()).insertCell().appendChild(document.createTextNode(i[m].symbolname))}return d.outerHTML+a.outerHTML}return""},it.prototype.setTooltipFontFamily=function(t){var e=et.ValueConverter.toFontFamily(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontFamily")),e!==this.__tooltipFontFamily&&(this.__tooltipFontFamily=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontFamily"]),this.__processTooltipFontFamily())},it.prototype.getTooltipFontFamily=function(){return this.__tooltipFontFamily},it.prototype.__processTooltipFontFamily=function(){et.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-family":this.__tooltipFontFamily})},it.prototype.setTooltipFontSize=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontSize")),e!==this.__tooltipFontSize&&(this.__tooltipFontSize=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontSize"]),this.__processTooltipFontSize())},it.prototype.getTooltipFontSize=function(){return this.__tooltipFontSize},it.prototype.__processTooltipFontSize=function(){this.__tooltipFontSize&&this.__tooltipFontSizeUnit&&et.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-size":this.__tooltipFontSize+this.__tooltipFontSizeUnit})},it.prototype.setTooltipFontSizeUnit=function(t){var e=et.ValueConverter.toFontSizeUnit(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontSizeUnit")),e!==this.__tooltipFontSizeUnit&&(this.__tooltipFontSizeUnit=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontSizeUnit"]),this.__processTooltipFontSizeUnit())},it.prototype.getTooltipFontSizeUnit=function(){return this.__tooltipFontSizeUnit},it.prototype.__processTooltipFontSizeUnit=function(){return this.__processTooltipFontSize()},it.prototype.setTooltipFontWeight=function(t){var e=et.ValueConverter.toFontWeight(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontWeight")),e!==this.__tooltipFontWeight&&(this.__tooltipFontWeight=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontWeight"]),this.__processTooltipFontWeight())},it.prototype.getTooltipFontWeight=function(){return this.__tooltipFontWeight},it.prototype.__processTooltipFontWeight=function(){et.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-weight":this.__tooltipFontWeight})},it.prototype.setTooltipFontColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontColor"));var i=this.__objectResolvers.get("tooltipFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipFontColor",{resolver:n,watchCallback:this.__onResolverForTooltipFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipFontColorWatchCallback)})},it.prototype.getTooltipFontColor=function(){return this.__tooltipFontColor},it.prototype.__processTooltipFontColor=function(){var t=null,e=et.Theme.Resources.get(this,"TooltipFontColor");if(e&&null!==e.value){var i=e.value;et.isSolidColor(i)&&(t=et.StyleProvider.resolveSolidColorAsCssValue(i))}et.isSolidColor(this.__tooltipFontColor)&&(t=et.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=t&&this.__elementTooltipText.css("color",t)},it.prototype.setTooltipBackgroundColor=function(t){var e=et.ValueConverter.toObject(t);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipBackgroundColor"));var i=this.__objectResolvers.get("tooltipBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new et.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipBackgroundColor",{resolver:n,watchCallback:this.__onResolverForTooltipBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipBackgroundColorWatchCallback)})},it.prototype.getTooltipBackgroundColor=function(){return this.__tooltipBackgroundColor},it.prototype.__processTooltipBackgroundColor=function(){et.StyleProvider.processBackgroundColor(this.__elementTooltipText,this.__tooltipBackgroundColor),et.StyleProvider.processBackgroundColor(this.__elementTooltipArrow,this.__tooltipBackgroundColor)},it.prototype.setInterval=function(t){var e=et.ValueConverter.toNumber(t);null===e&&(e=this.getAttributeDefaultValueInternal("Interval")),e!==this.__interval&&(this.__interval=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getInterval"]),this.__processInterval())},it.prototype.getInterval=function(){return this.__interval},it.prototype.__processInterval=function(){this.__isAttached&&this.__lineGraphDescriptions&&0<this.__lineGraphDescriptions.length&&null!==this.__subscriptionId?this.__openWebsocket():null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},it.prototype.setStart=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("Start")),null!==e&&(e="first"===e.toLowerCase()?"First":e.toUpperCase()),e!==this.__start&&(this.__start=e,null===this.__start?this.__startDatatype=null:this.isDatetime(this.__start)?this.__startDatatype=it.Datatype.Datetime:this.isKeyword(this.__start)?this.__startDatatype=it.Datatype.Keyword:this.__startDatatype=it.Datatype.Timespan,this.__start!==this.__internalStart&&(this.__internalStart=this.__start,"First"===this.__internalStart&&this.__internalEnd!==this.__end&&void 0!==this.__end&&(this.__internalEnd=this.__end)),et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getStart"]),this.__processStart())},it.prototype.getStart=function(){return this.__start},it.prototype.getActualStartTime=function(){return this.__actualStartTime?new Date(this.__actualStartTime).toISOString():null},it.prototype.__processStart=function(){if(null!==this.__menuBarControls[0]&&void 0!==this.__menuBarControls[0]&&this.__start)if(this.isDatetime(this.__start)){var t=this.__moveUtcToTimeZone(this.__start);this.__menuBarControls[0].setText(t)}else this.__menuBarControls[0].setText(this.__start);if(this.__start&&this.__end&&"Latest"!==this.__end&&"First"!==this.__start&&(this.__startEndBeforeZoom={end:this.__end,start:this.__start}),this.__isAttached&&this.__start){var e=this.__nowIsValueChanged;if(this.__nowIsValueChanged=!0,this.__startDatatype===it.Datatype.Datetime)this.__menuBarControls[1]&&this.__menuBarControls[3]&&(this.__menuBarControls[1].setValue(null),this.__menuBarControls[3].setValue(this.__start));else if(this.__startDatatype===it.Datatype.Timespan)this.__menuBarControls[1]&&this.__menuBarControls[3]&&(this.__menuBarControls[1].setValue(this.__start),this.__menuBarControls[3].setValue(null));else if(this.__menuBarControls[1]&&this.__menuBarControls[3]&&this.__menuBarControls[0]){this.__menuBarControls[1].setValue(null),this.__menuBarControls[3].setValue(null);var i=this.__menuBarControls[0];i.setText(null),i.setSelectedIndex(0)}if(this.__nowIsValueChanged=e,this.__lineGraphDescriptions&&0<this.__lineGraphDescriptions.length)return void this.__openWebsocket()}null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},it.prototype.setEnd=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("End")),null!==e&&(e="latest"===e.toLowerCase()?"Latest":e.toUpperCase()),e!==this.__end&&(this.__end=e,null===this.__end?this.__endDatatype=null:this.isDatetime(this.__end)?this.__endDatatype=it.Datatype.Datetime:this.isKeyword(this.__end)?this.__endDatatype=it.Datatype.Keyword:this.__endDatatype=it.Datatype.Timespan,this.__end!==this.__internalEnd&&(this.__internalEnd=this.__end,"Latest"===this.__internalEnd&&this.__internalStart!==this.__start&&void 0!==this.__start&&(this.__internalStart=this.__start)),et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getEnd"]),this.__processEnd())},it.prototype.getEnd=function(){return this.__end},it.prototype.getActualEndTime=function(){return this.__actualEndTime?new Date(this.__actualEndTime).toISOString():null},it.prototype.__moveUtcToTimeZone=function(t){var e=et.Localization.parseDate(new Date(t)),i=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),n=new Date(t);return this.__utcOffset=n.valueOf()-i,e.year+"-"+("0"+e.month).slice(-2)+"-"+("0"+e.day).slice(-2)+"T"+("0"+e.hour).slice(-2)+":"+("0"+e.minute).slice(-2)+":"+("0"+e.second).slice(-2)+"."+("00"+e.millisecond).slice(-3)},it.prototype.__moveTimeZoneToUtc=function(t){var e=t.split("T");if(2!==e.length)return null;var i=e[0].split("-");if(3!==i.length)return null;var n={};if(n.year=et.Localization.parseInt(i[0]),isNaN(n.year))return null;if(n.month=et.Localization.parseInt(i[1]),isNaN(n.month))return null;if(n.day=et.Localization.parseInt(i[2]),isNaN(n.day))return null;var o=e[1].split(":");if(2===o.length)o[2]="0.0";else if(3!==o.length)return null;if(n.hour=et.Localization.parseInt(o[0]),isNaN(n.hour))return null;if(n.minute=et.Localization.parseInt(o[1]),isNaN(n.minute))return null;var s=o[2].split(".");if(1===s.length)s[1]="0";else if(2!==s.length)return null;if(n.second=et.Localization.parseInt(s[0]),isNaN(n.second))return null;if(n.millisecond=et.Localization.parseInt(s[1]),isNaN(n.millisecond))return null;var r=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return new Date(r+this.__utcOffset).toISOString()},it.prototype.__processEnd=function(){if(null!==this.__menuBarControls[5]&&void 0!==this.__menuBarControls[5]&&this.__end)if(this.isDatetime(this.__end)){var t=this.__moveUtcToTimeZone(this.__end);this.__menuBarControls[5].setText(t)}else this.__menuBarControls[5].setText(this.__end);if(this.__start&&this.__end&&"Latest"!==this.__end&&"First"!==this.__start&&(this.__startEndBeforeZoom={end:this.__end,start:this.__start}),this.__isAttached&&this.__end){var e=this.__nowIsValueChanged;if(this.__nowIsValueChanged=!0,this.__endDatatype===it.Datatype.Datetime)this.__menuBarControls[6]&&this.__menuBarControls[8]&&(this.__menuBarControls[6].setValue(null),this.__menuBarControls[8].setValue(this.__end));else if(this.__endDatatype===it.Datatype.Timespan)this.__menuBarControls[6]&&this.__menuBarControls[8]&&(this.__menuBarControls[6].setValue(this.__end),this.__menuBarControls[8].setValue(null));else if(this.__menuBarControls[6]&&this.__menuBarControls[8]&&this.__menuBarControls[5]){this.__menuBarControls[6].setValue(null),this.__menuBarControls[8].setValue(null);var i=this.__menuBarControls[5];i.setText(null),i.setSelectedIndex(0)}if(this.__nowIsValueChanged=e,this.__lineGraphDescriptions&&0<this.__lineGraphDescriptions.length)return void this.__openWebsocket()}null!==this.__subscriptionId&&(et.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},it.prototype.setMouseMode=function(t){var e=et.ValueConverter.toEnum(t,it.MouseMode);null===e&&(e=this.getAttributeDefaultValueInternal("MouseMode")),tchmi_equal(e,this.__mouseMode)||(this.__mouseMode=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMouseMode"]),this.__processMouseMode())},it.prototype.getMouseMode=function(){return this.__mouseMode},it.prototype.__processMouseMode=function(){var t=this.__id+"_panxButton";this.__mouseMode===it.MouseMode.PanXY?t=this.__id+"_panxyButton":this.__mouseMode===it.MouseMode.ZoomX?t=this.__id+"_zoomxButton":this.__mouseMode===it.MouseMode.ZoomXY&&(t=this.__id+"_zoomxyButton");for(var e=0,i=this.__menuBarControls.length;e<i;e++)this.__menuBarControls[e].getId()===t&&this.__menuBarControls[e].setToggleState("Active")},it.prototype.setServerDomain=function(t){var e=et.ValueConverter.toString(t);null===e&&(e=this.getAttributeDefaultValueInternal("ServerDomain")),tchmi_equal(e,this.__serverDomain)||(this.__serverDomain=e,et.EventProvider.raise(this.__id+".onFunctionResultChanged",["getServerDomain"]),this.__processServerDomain())},it.prototype.getServerDomain=function(){return this.__serverDomain},it.prototype.__processServerDomain=function(){this.__getData()},it.prototype.__processIsEnabled=function(){o.prototype.__processIsEnabled.call(this),this.__isEnabled||et.TopMostLayer.remove(this,this.__elementMenuBarDropdown)},_=it,e.TcHmiTrendLineChart=_,i=_=e.TcHmiTrendLineChart||(e.TcHmiTrendLineChart={}),(n=i.MouseMode||(i.MouseMode={}))[n.ZoomX=0]="ZoomX",n[n.ZoomXY=1]="ZoomXY",n[n.PanX=2]="PanX",n[n.PanXY=3]="PanXY",(s=i.MenuBarPosition||(i.MenuBarPosition={}))[s.Bottom=0]="Bottom",s[s.Top=1]="Top",(r=i.Datatype||(i.Datatype={}))[r.Datetime=0]="Datetime",r[r.Timespan=1]="Timespan",r[r.Keyword=2]="Keyword",(a=i.AxisPosition||(i.AxisPosition={}))[a.Left=0]="Left",a[a.Right=1]="Right",(l=i.LineStyle||(i.LineStyle={}))[l.Dotted=0]="Dotted",l[l.Dashed=1]="Dashed",l[l.Solid=2]="Solid",t.register("tchmi-trend-line-chart",et.Controls.Beckhoff.TcHmiTrendLineChart,"Beckhoff/TcHmiTrendLineChart/","Beckhoff/TcHmiTrendLineChart/Template.html")}(TcHmi=TcHmi||{});