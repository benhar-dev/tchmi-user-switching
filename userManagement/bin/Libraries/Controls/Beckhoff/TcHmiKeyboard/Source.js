var TcHmi;!function(h){var e,t,i,o,n,r,s,a,l,d;function y(e,t,o){var _=i.call(this,e,t,o)||this;return _.__layouts=null,_.__currentLayout={name:"empty",dimensions:{width:1,height:1},keys:[]},_.__fixedTargetInputElements=null,_.__fixedTargetTextareaElements=null,_.__modifiers={Shift:!1,Control:!1,Alt:!1,Meta:!1,CapsLock:!1,NumLock:!0,Insert:!1},_.__pressedKeyMouse=null,_.__pressedKeysTouch=[],_.__pressedKeys=[],_.__keyActions={KeyChar:{press:function(e,t,o){if(null!==t){var i=t.value;null==i&&(i="");var n=_.__specialKeys[e.key[o]],r=void 0!==n?n:e.key[o];r=_.__unescape(r),null!==_.__compositionKey&&void 0!==_.__compositionKey.composition[r]&&(r=_.__compositionKey.composition[r]),_.__compositionKey=null;var s=_.__getSelectionStartOrEnd(t,"selectionStart"),a=_.__getSelectionStartOrEnd(t,"selectionEnd");t.value=i.substring(0,s)+r+i.substring(_.__modifiers.Insert?a+1:a),_.__setCaretPosition(t,s+r.length)}},release:function(e,t,o){e.ignoreModifiers||_.__unstickAllKeys()}},Shift:{press:function(e,t,o){return _.__toggleModifier("Shift",!0)},release:function(e,t,o){return _.__toggleModifier("Shift",!1)}},Control:{press:function(e,t,o){return _.__toggleModifier("Control",!0)},release:function(e,t,o){return _.__toggleModifier("Control",!1)}},Alt:{press:function(e,t,o){return _.__toggleModifier("Alt",!0)},release:function(e,t,o){return _.__toggleModifier("Alt",!1)}},Meta:{press:function(e,t,o){return _.__toggleModifier("Meta",!0)},release:function(e,t,o){return _.__toggleModifier("Meta",!1)}},CapsLock:{press:function(e,t,o){return _.__toggleModifier("CapsLock")}},NumLock:{press:function(e,t,o){return _.__toggleModifier("NumLock")}},Insert:{press:function(e,t,o){return _.__toggleModifier("Insert")}},ArrowLeft:{press:function(t,o,e){if(null!==o){var i=_.__getSelectionStartOrEnd(o,"selectionStart"),n=_.__getSelectionStartOrEnd(o,"selectionEnd");_.__modifiers.Shift||i===n?_.__moveCaret(o,"backward",function(e){return _.__caretPositionLeft(e,o.value,t.ignoreModifiers)},t.ignoreModifiers):_.__setCaretPosition(o,i),_.__arrowUpDownTarget=null}}},ArrowRight:{press:function(t,o,e){if(null!==o){var i=_.__getSelectionStartOrEnd(o,"selectionStart"),n=_.__getSelectionStartOrEnd(o,"selectionEnd");_.__modifiers.Shift||i===n?_.__moveCaret(o,"forward",function(e){return _.__caretPositionRight(e,o.value,t.ignoreModifiers)},t.ignoreModifiers):_.__setCaretPosition(o,n),_.__arrowUpDownTarget=null}}},ArrowUp:{press:function(e,l,t){if(null!==l){_.__moveCaret(l,"backward",function(e){var t=_.__getMirrorElement(l),o=_.__getCaretCoordinates(t,l.value,e),i=o,n=e-1,r=_.__getCaretCoordinates(t,l.value,n),s=_.__getSelectionStartOrEnd(l,"selectionStart"),a=_.__getSelectionStartOrEnd(l,"selectionEnd");for(null!==_.__arrowUpDownTarget&&_.__arrowUpDownTarget.input===l&&_.__arrowUpDownTarget.selectionStart===s&&_.__arrowUpDownTarget.selectionEnd===a||(_.__arrowUpDownTarget={left:o.left,input:l,selectionStart:s,selectionEnd:a});0<=n&&(r.top===o.top||r.left>_.__arrowUpDownTarget.left);)i=r,n--,r=_.__getCaretCoordinates(t,l.value,n);return t.parentNode.removeChild(t),n<0?0:_.__arrowUpDownTarget.left-r.left<=i.left-_.__arrowUpDownTarget.left||i.top===o.top?n:n+1},e.ignoreModifiers),null!==_.__arrowUpDownTarget&&(_.__arrowUpDownTarget.selectionStart=_.__getSelectionStartOrEnd(l,"selectionStart"),_.__arrowUpDownTarget.selectionEnd=_.__getSelectionStartOrEnd(l,"selectionEnd"))}}},ArrowDown:{press:function(e,d,t){if(null!==d){_.__moveCaret(d,"forward",function(e){var t=_.__getMirrorElement(d),o=_.__getCaretCoordinates(t,d.value,e),i=o,n=e+1,r=_.__getCaretCoordinates(t,d.value,n),s=0,a=_.__getSelectionStartOrEnd(d,"selectionStart"),l=_.__getSelectionStartOrEnd(d,"selectionEnd");for(null!==_.__arrowUpDownTarget&&_.__arrowUpDownTarget.input===d&&_.__arrowUpDownTarget.selectionStart===a&&_.__arrowUpDownTarget.selectionEnd===l||(_.__arrowUpDownTarget={left:o.left,input:d,selectionStart:a,selectionEnd:l});n<=d.value.length&&(r.top===o.top||r.left<_.__arrowUpDownTarget.left)&&(0===s||r.top-o.top<=s);)s=r.top-o.top,i=r,n++,r=_.__getCaretCoordinates(t,d.value,n);return t.parentNode.removeChild(t),n>d.value.length?d.value.length:!(0!==s&&r.top-o.top>s)&&(r.left-_.__arrowUpDownTarget.left<_.__arrowUpDownTarget.left-i.left||i.top===o.top)?n:n-1},e.ignoreModifiers),null!==_.__arrowUpDownTarget&&(_.__arrowUpDownTarget.selectionStart=_.__getSelectionStartOrEnd(d,"selectionStart"),_.__arrowUpDownTarget.selectionEnd=_.__getSelectionStartOrEnd(d,"selectionEnd"))}}},Home:{press:function(r,s,e){if(null!==s){_.__moveCaret(s,"backward",function(e){if(_.__modifiers.Control&&!r.ignoreModifiers)return 0;for(var t=_.__getMirrorElement(s),o=_.__getCaretCoordinates(t,s.value,e),i=e-1,n=_.__getCaretCoordinates(t,s.value,i);0<=i&&n.top===o.top;)i--,n=_.__getCaretCoordinates(t,s.value,i);return t.parentNode.removeChild(t),i<0?0:i+1},r.ignoreModifiers)}}},End:{press:function(r,s,e){if(null!==s){_.__moveCaret(s,"forward",function(e){if(_.__modifiers.Control&&!r.ignoreModifiers)return s.value.length;for(var t=_.__getMirrorElement(s),o=_.__getCaretCoordinates(t,s.value,e),i=e+1,n=_.__getCaretCoordinates(t,s.value,i);i<=s.value.length&&n.top===o.top;)i++,n=_.__getCaretCoordinates(t,s.value,i);return t.parentNode.removeChild(t),i>s.value.length?s.value.length:i-1},r.ignoreModifiers)}}},Backspace:{press:function(e,t,o){if(null!==t){var i=_.__getSelectionStartOrEnd(t,"selectionStart"),n=_.__getSelectionStartOrEnd(t,"selectionEnd"),r=t.value;i===n&&(i=_.__caretPositionLeft(i,r,e.ignoreModifiers)),r=r.substring(0,i)+r.substring(n),t.value=r,_.__setCaretPosition(t,i)}}},Delete:{press:function(e,t,o){if(null!==t){var i=_.__getSelectionStartOrEnd(t,"selectionStart"),n=_.__getSelectionStartOrEnd(t,"selectionEnd"),r=t.value;i===n&&(n=_.__caretPositionRight(n,r,e.ignoreModifiers)),r=r.substring(0,i)+r.substring(n),t.value=r,_.__setCaretPosition(t,i)}}},SelectAll:{press:function(e,t,o){if(null!==t){_.__setSelectionStartOrEnd(t,"selectionStart",0),_.__setSelectionStartOrEnd(t,"selectionEnd",t.value.length);try{t.selectionDirection="forward"}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+_.getId()+'] Tried to set selectionDirection on an input element that does not support this. Try using an <input type="text" /> element.')}}},release:function(e,t,o){e.ignoreModifiers||_.__unstickAllKeys()}}},_.__keyCodes={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,"^":220,"´":221,"`":221},_.__specialKeys={Tab:"\t",Enter:"\n"},_.__stickiedKeys=[],_.__keysToStick=[],_.__compositionKey=null,_.__interactedKeys=[],_.__additionalKeysBaseKey=null,_.__arrowUpDownTarget=null,_.__resizedEventDestroyEvent=null,_.__objectResolvers=new Map,_.__onResized=function(e,t){_.__processScaleMode()},_.__onRootMouseDownOrTouchStart=function(e){"mousedown"===e.type&&0!==e.button||e.preventDefault()},_.__onDocumentMouseDownOrTouchStart=function(e){null!==_.__additionalKeysBaseKey&&e.target!==_.__additionalKeysBaseKey.element&&e.target instanceof Element&&!$.contains(_.__additionalKeysBaseKey.element,e.target)&&_.__hideAdditionalKeys()},_.__onMouseDown=function(e){if(0===e.button&&e.target instanceof HTMLElement&&_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){for(var t=e.target;t&&!t.classList.contains("tchmi-keyboard-template-key");){if(t===e.currentTarget)return;t=t.parentElement}t&&_.__pressedKeyMouse!==t&&(t.classList.add("down"),_.__pressedKeyMouse=t,_.__keyInteractionStarted(t),_.__raiseKeyPressStarted(t))}},_.__onMouseOver=function(e){if(e.target instanceof HTMLElement&&_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){for(var t=e.target;t&&!t.classList.contains("tchmi-keyboard-template-key");){if(t===e.currentTarget)return;t=t.parentElement}t&&(t.classList.add("hover"),0<e.buttons&&null!==_.__additionalKeysBaseKey&&_.__additionalKeysBaseKey.dragging&&_.__additionalKeysBaseKey.element===t.parentElement&&!t.classList.contains("down")&&(t.classList.add("down"),_.__raiseKeyPressStarted(t)))}},_.__onMouseOut=function(e){if(e.target instanceof HTMLElement&&_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){for(var t=e.target;t&&!t.classList.contains("tchmi-keyboard-template-key");){if(t===e.currentTarget)return;t=t.parentElement}t&&(_.__handleMouseOrTouchLeave(t,{x:e.clientX,y:e.clientY}),_.__pressedKeyMouse=null,_.__raiseKeyPressEnded(t,"Canceled"))}},_.__onMouseUp=function(e){if(e.target instanceof HTMLElement&&_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){for(var t=e.target;t&&!t.classList.contains("tchmi-keyboard-template-key");){if(t===e.currentTarget)return;t=t.parentElement}t&&(t.classList.remove("down"),null!==_.__additionalKeysBaseKey&&(_.__additionalKeysBaseKey.dragging&&_.__additionalKeysBaseKey.element===t.parentElement&&(_.__pressedKeyMouse=t,_.__keyInteractionStarted(t)),_.__additionalKeysBaseKey.dragging=!1),t===_.__pressedKeyMouse&&(_.__pressedKeyMouse=null,_.__keyInteractionEnded(t),_.__raiseKeyPressEnded(t,"Finished")))}},_.__onTouchStart=function(n){if(_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){function e(e,t){var o=n.changedTouches[e];if(!(o.target instanceof HTMLElement))return"continue";for(var i=o.target;i&&!i.classList.contains("tchmi-keyboard-template-key");){if(i===n.currentTarget){i=null;break}i=i.parentElement}return!i||0<_.__pressedKeysTouch.filter(function(e){return e.keyElement===i}).length?"continue":(i.classList.add("hover"),i.classList.add("down"),_.__pressedKeysTouch.push({touchID:o.identifier,keyElement:i}),_.__keyInteractionStarted(i),void _.__raiseKeyPressStarted(i))}for(var t=0,o=n.changedTouches.length;t<o;t++)e(t)}},_.__onTouchMove=function(s){if(_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){function e(t,e){var o=_.__pressedKeysTouch.filter(function(e){return e.touchID===s.changedTouches[t].identifier})[0];if(!o)return"continue";var i=s.changedTouches[t],n=document.elementFromPoint(i.clientX,i.clientY);if(null!==n&&n.classList.contains("tchmi-keyboard-template-label")&&(n=n.parentElement),null===n||n.classList.contains("tchmi-keyboard-template-key")||(n=null),n!==o.keyElement&&null!==o.keyElement){var r=_.__handleMouseOrTouchLeave(o.keyElement,{x:i.clientX,y:i.clientY});if(_.__raiseKeyPressEnded(o.keyElement,"Canceled"),o.keyElement=null,!r)return"continue"}null!==n&&null===o.keyElement&&(n.classList.add("hover"),null!==_.__additionalKeysBaseKey&&_.__additionalKeysBaseKey.dragging&&_.__additionalKeysBaseKey.element===n.parentElement&&(n.classList.add("down"),_.__raiseKeyPressStarted(n)),o.keyElement=n)}for(var t=0,o=s.changedTouches.length;t<o;t++)e(t)}},_.__onTouchEndOrCancel=function(s){if(_.getIsEnabled()&&h.Access.checkAccess(_,"operate")){function e(e,t){var o=s.changedTouches[e],i=_.__pressedKeysTouch.filter(function(e){return e.touchID===o.identifier})[0];if(!(i&&o.target instanceof HTMLElement))return"continue";for(var n=o.target;n&&n.classList.contains(".tchmi-keyboard-template-key");){if(n===s.currentTarget){n=null;break}n=n.parentElement}if(!n)return"continue";n.classList.remove("hover"),n.classList.remove("down"),_.__pressedKeysTouch.splice(_.__pressedKeysTouch.indexOf(i),1);var r=document.elementFromPoint(o.clientX,o.clientY);if(null!==r&&r.classList.contains("tchmi-keyboard-template-label")&&(r=r.parentElement),null!==r&&(r.classList.remove("hover"),r.classList.remove("down")),null===r||r.classList.contains("tchmi-keyboard-template-key")||(r=null),null===r||r!==s.target&&r.parentElement!==s.target)return"continue";null!==_.__additionalKeysBaseKey&&(_.__additionalKeysBaseKey.dragging&&_.__additionalKeysBaseKey.element===r.parentElement&&_.__keyInteractionStarted(r),_.__additionalKeysBaseKey.dragging=!1),_.__keyInteractionEnded(r),_.__raiseKeyPressEnded(r,"Finished")}for(var t=0,o=s.changedTouches.length;t<o;t++)e(t)}},_.__onResolverForKeyboardPaddingWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__keyboardPadding)||(_.__keyboardPadding=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getKeyboardPadding"]),_.__processKeyboardPadding())},_.__onResolverForKeyPaddingWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__keyPadding)||(_.__keyPadding=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getKeyPadding"]),_.__processKeyPadding())},_.__onResolverForAdditionalKeyBackdropPaddingWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__additionalKeyBackdropPadding)||(_.__additionalKeyBackdropPadding=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getAdditionalKeyBackdropPadding"]),_.__processAdditionalKeyBackdropPadding())},_.__onResolverForKeyBackgroundColorWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__keyBackgroundColor)||(_.__keyBackgroundColor=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getKeyBackgroundColor"]),_.__processKeyBackgroundColor())},_.__onResolverForLabelColorWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__labelColor)||(_.__labelColor=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getLabelColor"]),_.__processLabelColor())},_.__onResolverForLabelStrokeColorWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__labelStrokeColor)||(_.__labelStrokeColor=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getLabelStrokeColor"]),_.__processLabelStrokeColor())},_.__onResolverForLabelFillColorWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__labelFillColor)||(_.__labelFillColor=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getLabelFillColor"]),_.__processLabelFillColor())},_.__onResolverForAdditionalKeyBackdropColorWatchCallback=function(e){!1===_.__isAttached&&e.destroy&&e.destroy(),tchmi_equal(e.value,_.__additionalKeyBackdropColor)||(_.__additionalKeyBackdropColor=e.value,h.EventProvider.raise(_.__id+".onFunctionResultChanged",["getAdditionalKeyBackdropColor"]),_.__processAdditionalKeyBackdropColor())},_}e=h.Controls||(h.Controls={}),t=e.Beckhoff||(e.Beckhoff={}),i=h.Controls.System.TcHmiControl,__extends(y,i),y.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".tchmi-keyboard-template"),this.__elementPaddingContainer=this.__elementTemplateRoot.find(".tchmi-keyboard-template-padding-container"),0===this.__elementTemplateRoot.length||0===this.__elementPaddingContainer.length)throw new Error("Invalid Template.html");i.prototype.__previnit.call(this)},y.prototype.__init=function(){i.prototype.__init.call(this)},y.prototype.__attach=function(){for(var e in i.prototype.__attach.call(this),this.__resizedEventDestroyEvent=h.EventProvider.register(this.__id+".onResized",this.__onResized),this.__element[0].addEventListener("mousedown",this.__onRootMouseDownOrTouchStart),this.__element[0].addEventListener("touchstart",this.__onRootMouseDownOrTouchStart),this.__element[0].addEventListener("mousedown",this.__onMouseDown),this.__element[0].addEventListener("mouseover",this.__onMouseOver),this.__element[0].addEventListener("mouseout",this.__onMouseOut),this.__element[0].addEventListener("mouseup",this.__onMouseUp),this.__element[0].addEventListener("touchstart",this.__onTouchStart),this.__element[0].addEventListener("touchmove",this.__onTouchMove),this.__element[0].addEventListener("touchend",this.__onTouchEndOrCancel),this.__element[0].addEventListener("touchcancel",this.__onTouchEndOrCancel),document.addEventListener("mousedown",this.__onDocumentMouseDownOrTouchStart),document.addEventListener("touchstart",this.__onDocumentMouseDownOrTouchStart),this.__modifiers)this.__modifiers.hasOwnProperty(e)&&this.__element.toggleClass(e.toLowerCase()+"-active",this.__modifiers[e]);this.__element.toggleClass("default-active",!(this.__modifiers.Shift||this.__modifiers.Control||this.__modifiers.Alt||this.__modifiers.CapsLock)),this.__element.toggleClass("altgr-active",this.__modifiers.Control&&this.__modifiers.Alt),this.__objectResolvers.forEach(function(e){return e.resolver.watch(e.watchCallback)}),this.__processFixedTarget(),this.__processScaleMode()},y.prototype.__detach=function(){i.prototype.__detach.call(this),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null),this.__element[0].removeEventListener("mousedown",this.__onRootMouseDownOrTouchStart),this.__element[0].removeEventListener("touchstart",this.__onRootMouseDownOrTouchStart),this.__element[0].removeEventListener("mousedown",this.__onMouseDown),this.__element[0].removeEventListener("mouseenter",this.__onMouseOver),this.__element[0].removeEventListener("mouseleave",this.__onMouseOut),this.__element[0].removeEventListener("mouseup",this.__onMouseUp),this.__element[0].removeEventListener("touchstart",this.__onTouchStart),this.__element[0].removeEventListener("touchmove",this.__onTouchMove),this.__element[0].removeEventListener("touchend",this.__onTouchEndOrCancel),this.__element[0].removeEventListener("touchcancel",this.__onTouchEndOrCancel),document.removeEventListener("mousedown",this.__onDocumentMouseDownOrTouchStart),document.removeEventListener("touchstart",this.__onDocumentMouseDownOrTouchStart),this.__objectResolvers.forEach(function(e){e.watchDestroyer&&(e.watchDestroyer(),e.watchDestroyer=null)})},y.prototype.destroy=function(){this.__layoutXhr&&(this.__layoutXhr.abort(),this.__layoutXhr=void 0),this.__objectResolvers.forEach(function(e){e.watchDestroyer&&e.watchDestroyer(),e.resolver.destroy()}),this.__objectResolvers.clear(),i.prototype.destroy.call(this)},y.prototype.__handleMouseOrTouchLeave=function(t,e){t.classList.remove("hover"),t.classList.remove("down");var o=this.__interactedKeys.filter(function(e){return e.element===t})[0];if(void 0===o)return!1;if(o.key.longpressAction===y.LongpressAction.ADDITIONALKEYS&&!o.timedOut){var i=t.getBoundingClientRect(),n=i.left+i.width/2,r=i.top+i.height/2,s=t.getElementsByClassName("tchmi-keyboard-template-backdrop")[0].getBoundingClientRect(),a=Math.round((e.x-n)/i.width),l=Math.round((e.y-r)/i.height),d=!1;if((s.top<r&&s.left<n&&s.right>n&&l<=-1||s.bottom>r&&s.left<n&&s.right>n&&1<=l||s.left<n&&s.top<r&&s.bottom>r&&a<=-1||s.right>n&&s.top<r&&s.bottom>r&&1<=a)&&(d=!0),d)return-1!==o.timeoutID&&(window.clearTimeout(o.timeoutID),o.timeoutID=-1),o.timedOut=!0,this.__showAdditionalKeys(o.element),!1}return this.__interactedKeys=this.__interactedKeys.filter(function(e){return e.element!==o.element}),-1!==o.timeoutID&&(window.clearTimeout(o.timeoutID),o.timeoutID=-1),!0},y.prototype.__showAdditionalKeys=function(e){e.classList.add("show-additional-keys"),this.__additionalKeysBaseKey={element:e,dragging:!0}},y.prototype.__hideAdditionalKeys=function(){var t=this;null!==this.__additionalKeysBaseKey&&(this.__additionalKeysBaseKey.element.classList.remove("show-additional-keys"),this.__interactedKeys=this.__interactedKeys.filter(function(e){return e.element!==t.__additionalKeysBaseKey.element}),this.__additionalKeysBaseKey=null)},y.prototype.__keyInteractionStarted=function(t){var o=this;null!==this.__additionalKeysBaseKey&&this.__additionalKeysBaseKey.element!==t&&this.__additionalKeysBaseKey.element!==t.parentElement&&this.__hideAdditionalKeys();var i=this.__interactedKeys.filter(function(e){return e.element===t})[0];if(void 0===i){if(i={element:t,key:this.__getKey(t),pressed:!1,timeoutID:-1,timedOut:!1},null!==this.__additionalKeysBaseKey&&this.__additionalKeysBaseKey.element===i.element)i.hideAdditionalKeys=!0;else if(!y.isLayoutSwitch(i.key))switch(i.key.longpressAction){case y.LongpressAction.REPEAT:i.timeoutID=window.setTimeout(function(){var e=function(){o.__pressKey(i.key,!0),i.pressed=!0,i.timeoutID=window.setTimeout(e,o.__repetitionDelay)};o.__pressKey(i.key),i.pressed=!0,i.timedOut=!0,i.timeoutID=window.setTimeout(e,o.__repetitionDelay)},this.__longpressDelay);break;case y.LongpressAction.ADDITIONALKEYS:i.timeoutID=window.setTimeout(function(){o.__showAdditionalKeys(i.element),i.timedOut=!0,i.timeoutID=-1},this.__longpressDelay);break;case y.LongpressAction.LOCK:if(i.key.mode===y.KeyMode.STICKY){if(i.key.active&&!i.key.locked&&void 0!==(r=this.__getStickiedKey(i.key,this.__stickiedKeys))&&void 0!==this.__longpressDelay&&Date.now()-r.stickTime<=this.__longpressDelay){var e=this.__getStickiedKey(i.key,this.__keysToStick);if(void 0===e){var n=this.__keyToStickiedKey(i.key,!0);this.__keysToStick.push(n)}else e.locked=!0;break}i.timeoutID=window.setTimeout(function(){var e=o.__getStickiedKey(i.key,o.__keysToStick);void 0!==e&&(e.locked=!0),i.timedOut=!0,i.timeoutID=-1},this.__longpressDelay)}case y.LongpressAction.NONE:if(i.key.mode===y.KeyMode.STICKY&&(this.__pressKey(i.key),i.pressed=!0,void 0===this.__getStickiedKey(i.key,this.__keysToStick))){var r=this.__keyToStickiedKey(i.key,!1);this.__keysToStick.push(r)}}this.__interactedKeys.push(i)}else i.hideAdditionalKeys=!0},y.prototype.__keyInteractionEnded=function(t){var e=this.__interactedKeys.filter(function(e){return e.element===t})[0];if(void 0!==e)if(null===this.__additionalKeysBaseKey||this.__additionalKeysBaseKey.element!==e.element){e.element.classList.contains("additional-key")&&this.__hideAdditionalKeys();var o=e.key;if(this.__interactedKeys.splice(this.__interactedKeys.indexOf(e),1),e.pressed||(this.__pressKey(o),e.pressed=!0),-1!==e.timeoutID&&(window.clearTimeout(e.timeoutID),e.timeoutID=-1),y.isLayoutSwitch(o))this.__releaseKey(o);else if(o.mode===y.KeyMode.STICKY){var i=this.__getStickiedKey(o,this.__keysToStick);!o.active||!o.locked&&void 0!==i&&i.locked?void 0!==i?(this.__stickKey(o,i.locked),this.__keysToStick.splice(this.__keysToStick.indexOf(i),1)):this.__releaseKey(o):this.__unstickKey(o,!0)}else this.__releaseKey(o),o.mode===y.KeyMode.TOGGLE&&this.__element.find("div.tchmi-keyboard-template-key[data-"+o.keyPath.join("-")+'="'+o.key.join(",")+'"]').toggleClass("active")}else e.hideAdditionalKeys&&this.__hideAdditionalKeys()},y.prototype.__pressKey=function(e,t){if(void 0===t&&(t=!1),!(y.isLayoutSwitch(e)||e.mode===y.KeyMode.STICKY&&e.active))for(var o=this.__getTargetElements(),i=0,n=o.length;i<n;i++)for(var r=0,s=e.code.length;r<s;r++){var a,l=!this.__dispatchEvent(o[i],"keydown",e,r,t),d=!1;if(void 0!==e.composition&&(d=null===this.__compositionKey)&&(this.__compositionKey=e),null===this.__compositionKey||e.type!==y.KeyType.CHARACTER||d||void 0===this.__compositionKey.composition[e.key[r]]&&this.__dispatchEvent(o[i],"keypress",this.__compositionKey,0,t)&&void 0!==(a=this.__keyActions.KeyChar)&&(o[i]instanceof HTMLInputElement||o[i]instanceof HTMLTextAreaElement?a.press(this.__compositionKey,o[i],0):a.press(this.__compositionKey,null,0)),e.valid&&!l&&!d&&(e.type===y.KeyType.CHARACTER&&(l=!this.__dispatchEvent(o[i],"keypress",e,r,t)),void 0!==(a=this.__keyActions[e.type===y.KeyType.CHARACTER?"KeyChar":e.key[r]||""])&&!l&&(o[i]instanceof HTMLInputElement||o[i]instanceof HTMLTextAreaElement?a.press(e,o[i],r):a.press(e,null,r),e.type===y.KeyType.CHARACTER||e.type===y.KeyType.EDIT))){var _=void 0;"function"==typeof Event?_=new Event("input",{bubbles:!0}):(_=document.createEvent("event")).initEvent("input",!0,!1),o[i].dispatchEvent(_)}}},y.prototype.__releaseKey=function(t){if(y.isLayoutSwitch(t)){if(null!==this.__layouts){var e=this.__layouts.layouts.filter(function(e){return e.name===t.layoutName})[0];void 0!==e&&this.__activateLayout(e)}}else for(var o=this.__getTargetElements(),i=0,n=o.length;i<n;i++)for(var r=0,s=t.code.length;r<s;r++){var a=!this.__dispatchEvent(o[i],"keyup",t,r);if(t.valid&&!a){var l=this.__keyActions[t.type===y.KeyType.CHARACTER?"KeyChar":t.key[r]||""];void 0!==l&&void 0!==l.release&&(o[i]instanceof HTMLInputElement||o[i]instanceof HTMLTextAreaElement?l.release(t,o[i],r):l.release(t,null,r))}}},y.prototype.__getKey=function(e){var t=this;function o(e,t){if(void 0===e)return[];for(var o=0,i=e.indexOf(t,o+1),n=[];-1<i;)n.push(e.substring(o,i)),o=i+t.length,i=e.indexOf(t,o+1);return o<e.length&&n.push(e.substring(o)),n}if("layout-switch"===e.dataset.type)return{type:y.KeyType.LAYOUTSWITCH,layoutName:e.dataset.layoutName};var i={code:o(e.dataset.code,","),key:[],keyPath:[],unmodifiedKey:o(e.dataset.key,","),type:h.ValueConverter.toEnum(e.dataset.type,y.KeyType,y.KeyType.CHARACTER),mode:h.ValueConverter.toEnum(e.dataset.mode,y.KeyMode,y.KeyMode.NORMAL),location:(e.dataset.location||"").split(",").map(function(e){return h.ValueConverter.toEnum(e,y.KeyLocation,y.KeyLocation.STANDARD)}),active:e.classList.contains("active"),locked:e.classList.contains("locked"),noCapsLock:"TRUE"===(e.dataset.noCapsLock||"").toUpperCase(),ignoreModifiers:"TRUE"===(e.dataset.ignoreModifiers||"").toUpperCase(),valid:!0,longpressAction:h.ValueConverter.toEnum(e.dataset.longpressAction,y.LongpressAction)||y.LongpressAction.NONE};function n(e){return e.substr(0,1).toUpperCase()+e.substr(1)}var r,s=[];i.ignoreModifiers||(r=[],t.__modifiers.Shift&&r.push("shift"),t.__modifiers.Control&&r.push("ctrl"),t.__modifiers.Alt&&r.push("alt"),t.__modifiers.CapsLock&&!i.noCapsLock&&(-1===r.indexOf("shift")?-1===r.indexOf("ctrl")&&-1===r.indexOf("alt")&&r.unshift("shift"):r.shift()),t.__modifiers.NumLock&&0<Object.keys(e.dataset).filter(function(e){return 0===e.indexOf("numlock")}).length&&r.unshift("numlock"),s=r);var a=e.dataset[s.concat(["type"]).reduce(function(e,t){return e+n(t)})];void 0!==a&&0<s.length?i.type=h.ValueConverter.toEnum(a,y.KeyType,y.KeyType.CHARACTER):i.type!==y.KeyType.CHARACTER&&(s=[]);var l=e.dataset[s.concat(["key"]).reduce(function(e,t){return e+n(t)})],d=s.concat(["composition"]).reduce(function(e,t){return e+n(t)});if(void 0!==e.dataset[d]&&(i.composition=h.ValueConverter.toObject(e.dataset[d],void 0)),void 0===l&&(i.valid=!1,l=e.dataset.key),i.key=o(l,","),"Any"===i.key[0]&&(void 0===this.__getKey.__anyKey?(i.unmodifiedKey[0]=i.key[0]=String.fromCharCode(Math.floor(95*Math.random()+32)),this.__getKey.__anyKey=i.key[0]):(i.unmodifiedKey[0]=i.key[0]=this.__getKey.__anyKey,delete this.__getKey.__anyKey)),i.keyPath=s.concat(["key"]),i.code.length>i.key.length?i.code.splice(i.key.length,i.code.length-i.key.length):i.key.length>i.code.length&&i.key.splice(i.code.length,i.key.length-i.code.length),i.location.length<i.code.length)for(var _=i.location.length,c=i.code.length;_<c;_++)i.location.push(y.KeyLocation.STANDARD);else i.location.length>i.code.length&&i.location.splice(i.code.length,i.location.length-i.code.length);return i},y.prototype.__getTargetElements=function(){if(""===this.__fixedTarget)return document.activeElement?[document.activeElement]:[];var e=[];null!==this.__fixedTargetInputElements&&(e=e.concat(Array.prototype.slice.apply(this.__fixedTargetInputElements))),null!==this.__fixedTargetTextareaElements&&(e=e.concat(Array.prototype.slice.apply(this.__fixedTargetTextareaElements)));var t=h.Controls.get(this.__fixedTarget);return 0===e.length&&void 0!==t&&e.push(t.getElement()[0]),e},y.prototype.__dispatchEvent=function(e,t,o,i,n){void 0===n&&(n=!1);var r,s={key:void 0!==o.composition&&"keypress"!==t?"Dead":o.key[i],code:o.code[i],location:o.location[i],shiftKey:this.__modifiers.Shift,ctrlKey:this.__modifiers.Control,altKey:this.__modifiers.Alt,metaKey:this.__modifiers.Meta,bubbles:!0,cancelable:!0,repeat:n};if(null!==this.__compositionKey&&void 0!==this.__compositionKey.composition[s.key]&&(s.key=this.__compositionKey.composition[s.key]),"keypress"===t&&o.type===y.KeyType.CHARACTER){if(void 0!==o.key[i]){var a=this.__specialKeys[o.key[i]],l=void 0!==a?a:o.key[i];l=this.__unescape(l),null!==this.__compositionKey&&void 0!==this.__compositionKey.composition[l]&&(l=this.__compositionKey.composition[l]),s.charCode=l.charCodeAt(0),s.keyCode=s.charCode,s.which=s.charCode}}else void 0!==this.__keyCodes[o.key[i]]?(s.keyCode=this.__keyCodes[o.key[i]],s.which=s.keyCode):o.type===y.KeyType.CHARACTER&&(void 0!==o.unmodifiedKey[i]?s.keyCode=this.__unescape(o.unmodifiedKey[i]).toUpperCase().charCodeAt(0):void 0!==o.key[i]&&(s.keyCode=this.__unescape(o.key[i]).toUpperCase().charCodeAt(0)),s.which=s.keyCode);if("function"==typeof KeyboardEvent)r=new KeyboardEvent(t,s);else{var d=[];s.altKey&&d.push("Alt"),s.altKey&&s.ctrlKey&&d.push("AltGraph"),this.__modifiers.CapsLock&&d.push("CapsLock"),s.ctrlKey&&d.push("Control"),s.metaKey&&d.push("Meta"),this.__modifiers.NumLock&&d.push("NumLock"),s.shiftKey&&d.push("Shift"),(r=document.createEvent("KeyboardEvent")).initKeyboardEvent(t,s.bubbles||!1,s.cancelable||!1,window,s.key||"",s.location||0,d.join(" "),s.repeat||!1,"")}return r.which!==s.which&&void 0!==s.which&&(Object.defineProperty(r,"which",{get:function(){return this.whichVal}}),r.whichVal=s.which,void 0!==s.charCode&&(Object.defineProperty(r,"charCode",{get:function(){return this.charCodeVal}}),r.charCodeVal=s.charCode),void 0!==s.keyCode&&(Object.defineProperty(r,"keyCode",{get:function(){return this.keyCodeVal}}),r.keyCodeVal=s.keyCode)),e.dispatchEvent(r)},y.prototype.__toggleModifier=function(e,t){this.__modifiers[e]=void 0===t?!this.__modifiers[e]:t,this.__element.toggleClass(e.toLowerCase()+"-active",this.__modifiers[e]),this.__element.toggleClass("default-active",!(this.__modifiers.Shift||this.__modifiers.Control||this.__modifiers.Alt||this.__modifiers.CapsLock)),this.__element.toggleClass("altgr-active",this.__modifiers.Control&&this.__modifiers.Alt)},y.prototype.__stickKey=function(e,t){if(void 0===t&&(t=!1),e.mode===y.KeyMode.STICKY){var o=this.__getStickiedKey(e,this.__stickiedKeys);void 0===o?((o=this.__keyToStickiedKey(e,t)).stickTime=Date.now(),this.__stickiedKeys.push(o)):o.locked=t,this.__element.find("div.tchmi-keyboard-template-key[data-"+e.keyPath.join("-")+'="'+e.key.join(",")+'"]').addClass("active").toggleClass("locked",t)}},y.prototype.__unstickKey=function(e,t){if(void 0===t&&(t=!1),e.mode===y.KeyMode.STICKY){var o=this.__stickiedKeys.indexOf(e);if(-1===o)for(var i=0,n=this.__stickiedKeys.length;i<n;i++)if(this.__stickiedKeys[i].key.join(",")===e.key.join(",")&&this.__stickiedKeys[i].keyPath.join("-")===e.keyPath.join("-")){o=i;break}return-1===o||this.__stickiedKeys[o].locked&&!t?!1:(this.__releaseKey(this.__stickiedKeys[o]),this.__stickiedKeys.splice(o,1),this.__element.find("div.tchmi-keyboard-template-key[data-"+e.keyPath.join("-")+'="'+e.key.join(",")+'"]').removeClass("active locked"),!0)}},y.prototype.__unstickAllKeys=function(){if(!this.__releaseStickyKeysManually)for(var e=0,t=0,o=this.__stickiedKeys.length;t<o;t++)this.__unstickKey(this.__stickiedKeys[e])||e++;this.__keysToStick=[]},y.prototype.__getStickiedKey=function(t,e){return e.filter(function(e){return e.key.join(",")===t.key.join(",")&&e.keyPath.join("-")===t.keyPath.join("-")})[0]},y.prototype.__keyToStickiedKey=function(e,t){return{code:e.code,key:e.key,keyPath:e.keyPath,unmodifiedKey:e.unmodifiedKey,type:e.type,mode:e.mode,location:e.location,active:e.active,noCapsLock:e.noCapsLock,ignoreModifiers:e.ignoreModifiers,valid:e.valid,longpressAction:e.longpressAction,composition:e.composition,locked:t,stickTime:-1}},y.prototype.__caretPositionLeft=function(e,t,o){if(!this.__modifiers.Control||o)return 0<e?e-1:0;for(var i=/\b\S/g,n=i.exec(t),r=0;n&&!(n.index>=e);)r=n.index,n=i.exec(t);return r},y.prototype.__caretPositionRight=function(e,t,o){if(!this.__modifiers.Control||o)return e<t.length?e+1:t.length;for(var i=/\S\s*\b/g,n=i.exec(t);n&&!(n.index+1>e);)n=i.exec(t);return null!==n?n.index+1:t.length},y.prototype.__moveCaret=function(e,t,o,i){var n=this.__getSelectionStartOrEnd(e,"selectionStart"),r=this.__getSelectionStartOrEnd(e,"selectionEnd");if(this.__modifiers.Shift&&!i){if(n===r||e.selectionDirection===t){"forward"===t?this.__setSelectionStartOrEnd(e,"selectionEnd",o(r)):this.__setSelectionStartOrEnd(e,"selectionStart",o(n));try{e.selectionDirection=t}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+'] Tried to set selectionDirection on an input element that does not support this. Try using an <input type="text" /> element.')}}else{var s;if("forward"===t)if((s=o(n))<r)this.__setSelectionStartOrEnd(e,"selectionStart",s);else{this.__setSelectionStartOrEnd(e,"selectionStart",r),this.__setSelectionStartOrEnd(e,"selectionEnd",s);try{e.selectionDirection=t}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+'] Tried to set selectionDirection on an input element that does not support this. Try using an <input type="text" /> element.')}}else if(n<=(s=o(r)))this.__setSelectionStartOrEnd(e,"selectionEnd",s);else{this.__setSelectionStartOrEnd(e,"selectionEnd",n),this.__setSelectionStartOrEnd(e,"selectionStart",s);try{e.selectionDirection=t}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+'] Tried to set selectionDirection on an input element that does not support this. Try using an <input type="text" /> element.')}}}this.__scrollCaretIntoViewbox(e)}else this.__setCaretPosition(e,o(n))},y.prototype.__setCaretPosition=function(e,t){this.__setSelectionStartOrEnd(e,"selectionStart",t),this.__setSelectionStartOrEnd(e,"selectionEnd",t);try{e.selectionDirection="forward"}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+'] Tried to set selectionDirection on an input element that does not support this. Try using an <input type="text" /> element.')}this.__scrollCaretIntoViewbox(e)},y.prototype.__setSelectionStartOrEnd=function(e,t,o){if(o<0?o=0:o>e.value.length&&(o=e.value.length),e[t]!==o)try{e[t]=o}catch(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+'] Tried to set selection or caret position on an input element that does not support this. Try using an <input type="text" /> element.')}},y.prototype.__getSelectionStartOrEnd=function(e,t){var o=e[t]||0;return o<0?o=0:o>e.value.length&&(o=e.value.length),o},y.prototype.__scrollCaretIntoViewbox=function(e){var t="backward"===e.selectionDirection?this.__getSelectionStartOrEnd(e,"selectionStart"):this.__getSelectionStartOrEnd(e,"selectionEnd"),o=this.__getMirrorElement(e),i=this.__getCaretCoordinates(o,e.value,t);o.style.width="auto",o.style.height="auto",o.style.padding="",o.style.overflow="hidden",o.textContent=".";var n=o.clientHeight;o.parentNode.removeChild(o);var r=window.getComputedStyle(e),s=parseInt(r.paddingTop||"0",10),a=parseInt(r.paddingRight||"0",10),l=parseInt(r.paddingBottom||"0",10),d=parseInt(r.paddingLeft||"0",10);i.left<e.scrollLeft+d?e.scrollLeft=i.left-d:i.left+1>e.scrollLeft+e.clientWidth-d-a&&(e.scrollLeft=i.left+1-(e.clientWidth-d-a)),i.top<e.scrollTop+s?e.scrollTop=i.top-s:i.top+n>e.scrollTop+e.clientHeight-s-l&&(e.scrollTop=i.top+n-(e.clientHeight-s-l))},y.prototype.__getMirrorElement=function(e){var t=document.createElement("div"),o=t.style,i=window.getComputedStyle(e);return o.position="absolute",o.visibility="hidden",["whiteSpace","wordWrap","direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach(function(e){o[e]=i[e]}),null!==window.mozInnerScreenX?e.scrollHeight>parseInt(i.height||"0",10)&&(o.overflowY="scroll"):o.overflow="hidden",document.body.appendChild(t),t},y.prototype.__getCaretCoordinates=function(e,t,o){var i=e.getElementsByTagName("span")[0]||document.createElement("span");return e.textContent=t.substring(0,o).replace(/  /g,"  "),i.textContent=t.substring(o)||".",e.appendChild(i),{top:i.offsetTop,left:i.offsetLeft}},y.prototype.__unescape=function(e){return e.replace(/\\b/g,"\b").replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\r/g,"\r").replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\\/g,"\\")},y.prototype.setLayout=function(e){var t=h.ValueConverter.toString(e);null===t&&(t=this.getAttributeDefaultValueInternal("LayoutPath")),t!==this.__layout&&(this.__layout=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLayout"]),this.__processLayout())},y.prototype.getLayout=function(){return this.__layout},y.prototype.__processLayout=function(){this.__layoutFile||(this.__layout?this.__loadLayoutFile(h.Environment.getBasePath()+"/Controls/Beckhoff/TcHmiKeyboard/Layouts/"+this.__layout+".json"):this.__layouts=null)},y.prototype.setLayoutFile=function(e){var t=h.ValueConverter.toString(e);null===t&&(t=this.getAttributeDefaultValueInternal("ProjectLayoutPath")),t!==this.__layoutFile&&(this.__layoutFile=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLayoutFile"]),this.__processLayoutFile())},y.prototype.getLayoutFile=function(){return this.__layoutFile},y.prototype.__processLayoutFile=function(){this.__layoutFile?this.__loadLayoutFile(this.__layoutFile):this.__processLayout()},y.prototype.__loadLayoutFile=function(e){var t=this;this.__layoutXhr&&this.__layoutXhr.abort();var o=new XMLHttpRequest;(this.__layoutXhr=o).open("GET",tchmi_path(e),!0),o.addEventListener("load",function(e){200===o.status?(t.__layouts=h.ValueConverter.toObject(o.responseText),t.__processLayoutJsonFile()):(h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+t.getId()+", Attribute=LayoutPath] Loading layout file failed with status="+o.status+"."),t.__layouts=null),t.__layoutXhr=void 0}),o.addEventListener("error",function(e){h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+t.getId()+", Attribute=LayoutPath] Loading layout file failed with status="+o.status+"."),t.__layouts=null,t.__layoutXhr=void 0}),o.send()},y.prototype.__processLayoutJsonFile=function(){if(null!==this.__layouts){Array.isArray(this.__layouts.layouts)&&0!==this.__layouts.layouts.length||h.Log.error("Loading layout in control "+this.__id+' failed. Invalid layout file: "layouts" property is missing or empty!');var e=this.__layouts.layouts.filter(function(e){return!!e.name&&"string"==typeof e.name&&"default"===e.name.toLowerCase()});if(0<e.length)return void this.__activateLayout(e[0]);this.__activateLayout(this.__layouts.layouts[0])}},y.prototype.__activateLayout=function(e){if(Array.isArray(e.keys)){for(var t=document.createDocumentFragment(),o=0,i=e.keys.length;o<i;o++){var n=this.__createKey(e.keys[o]);if(void 0===n)return;t.appendChild(n)}this.__elementPaddingContainer.empty().append(t),this.__currentLayout=e,this.__processScaleMode(),this.__processKeyPadding(),this.__processAdditionalKeyBackdropPadding(),this.__processLabelFontFamily(),this.__processLabelFontSize(),this.__processLabelFontStyle(),this.__processLabelFontWeight(),this.__processLabelStrokeThickness(),this.__processLabelStrokeColor(),this.__processLabelFillColor(),this.__processLabelColor(),this.__processKeyBackgroundColor(),this.__processAdditionalKeyBackdropColor()}else h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Activating layout failed. Missing property=keys.")},y.prototype.__createKey=function(d){if(void 0!==d.geometry&&null!==d.geometry)if(void 0!==d.geometry.top&&null!==d.geometry.top)if(void 0!==d.geometry.left&&null!==d.geometry.left)if(void 0!==d.geometry.width&&null!==d.geometry.width){if(void 0!==d.geometry.height&&null!==d.geometry.height){if("layout-switch"===d.type){if(void 0===d.layoutName||null===d.layoutName)return void h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=layoutName.")}else{if(void 0===d.code||null===d.code)return void h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=code.");if(void 0===d.key||null===d.key)return void h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=key.")}var _=document.createElement("div");function e(e){if(d.hasOwnProperty(e))if("object"!=typeof d[e])_.dataset[e]=d[e];else if(-1<e.indexOf("omposition"))_.dataset[e]=JSON.stringify(d[e]);else if("additionalKeys"===e){for(var t=0,o=d[e].length;t<o;t++){var i=c.__createKey(d[e][t]);if(void 0===i)return{value:void 0};i.classList.add("additional-key"),_.appendChild(i)}var n=Math.min.apply(Math,d.additionalKeys.map(function(e){return e.geometry.top})),r=Math.min.apply(Math,d.additionalKeys.map(function(e){return e.geometry.left})),s=Math.max.apply(Math,d.additionalKeys.map(function(e){return e.geometry.left+e.geometry.width-r})),a=Math.max.apply(Math,d.additionalKeys.map(function(e){return e.geometry.top+e.geometry.height-n})),l=document.createElement("div");l.classList.add("tchmi-keyboard-template-backdrop"),l.style.top=n+"%",l.style.left=r+"%",l.style.width=s+"%",l.style.height=a+"%",_.insertAdjacentElement("afterbegin",l)}}_.classList.add("tchmi-keyboard-template-key");var c=this;for(var t in d){var o=e(t);if("object"==typeof o)return o.value}if(_.style.top=d.geometry.top+"%",_.style.left=d.geometry.left+"%",_.style.width=d.geometry.width+"%",_.style.height=d.geometry.height+"%",Array.isArray(d.labels)){function i(e,t){var o=document.createElement("span");if(o.classList.add("tchmi-keyboard-template-label"),void 0!==d.labels[e].position&&null!==d.labels[e].position&&0<d.labels[e].position.length&&d.labels[e].position.split(" ").forEach(function(e){return o.classList.add(e)}),"text"===d.labels[e].type&&void 0!==d.labels[e].text&&null!==d.labels[e].text)o.textContent=d.labels[e].text;else if("svg"===d.labels[e].type&&void 0!==d.labels[e].svg&&null!==d.labels[e].svg)o.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+d.labels[e].svg.dimensions.width+'" height="'+d.labels[e].svg.dimensions.height+'"><path d="'+d.labels[e].svg.path+'"></path></svg>';else if("image"===d.labels[e].type&&void 0!==d.labels[e].image&&null!==d.labels[e].image){var i={color:null,image:d.labels[e].image.source,imageWidth:void 0!==d.labels[e].image.dimensions?d.labels[e].image.dimensions.width:null,imageWidthUnit:"px",imageHeight:void 0!==d.labels[e].image.dimensions?d.labels[e].image.dimensions.height:null,imageHeightUnit:"px",imageHorizontalAlignment:"Center",imageVerticalAlignment:"Center",imagePadding:null};h.StyleProvider.processBackground(o,i)}if(void 0!==d.labels[e].visible&&0<d.labels[e].visible.length)for(var n=0,r=d.labels[e].visible.length;n<r;n++)o.classList.add("show-"+d.labels[e].visible[n]);else o.classList.add("show-always");if(void 0!==d.labels[e].hidden)for(n=0,r=d.labels[e].hidden.length;n<r;n++)o.classList.add("hide-"+d.labels[e].hidden[n]);_.appendChild(o)}for(var n=0,r=d.labels.length;n<r;n++)i(n)}return!0===this.__modifiers[d.key]&&_.classList.add("active"),_}h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=geomertry.height.")}else h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=geomertry.width.");else h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=geomertry.left.");else h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=geomertry.top.");else h.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiKeyboard, Id="+this.getId()+"] Creating key failed. Key definition is missing property=geomertry.")},y.prototype.setScaleMode=function(e){var t=h.ValueConverter.toScaleModeString(e);null===t&&(t=this.getAttributeDefaultValueInternal("ScaleMode")),t!==this.__scaleMode&&(this.__scaleMode=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getScaleMode"]),this.__processScaleMode())},y.prototype.getScaleMode=function(){return this.__scaleMode},y.prototype.__processScaleMode=function(){if(this.__isAttached&&"Collapsed"!==this.__visibility)switch(this.__scaleMode){case"ScaleToFill":h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer,{width:null,height:null,"min-width":null,"min-height":null});break;case"ScaleToFit":var e=this.__elementTemplateRoot.width()/this.__currentLayout.dimensions.width,t=this.__elementTemplateRoot.height()/this.__currentLayout.dimensions.height,o=e<t?e:t;h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer,{width:this.__currentLayout.dimensions.width*o+"px",height:this.__currentLayout.dimensions.height*o+"px","min-width":this.__currentLayout.dimensions.width*o+"px","min-height":this.__currentLayout.dimensions.height*o+"px"});break;case"ScaleToFitWidth":o=this.__elementTemplateRoot.width()/this.__currentLayout.dimensions.width,h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer,{width:this.__currentLayout.dimensions.width*o+"px",height:this.__currentLayout.dimensions.height*o+"px","min-width":this.__currentLayout.dimensions.width*o+"px","min-height":this.__currentLayout.dimensions.height*o+"px"});break;case"ScaleToFitHeight":o=this.__elementTemplateRoot.height()/this.__currentLayout.dimensions.height,h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer,{width:this.__currentLayout.dimensions.width*o+"px",height:this.__currentLayout.dimensions.height*o+"px","min-width":this.__currentLayout.dimensions.width*o+"px","min-height":this.__currentLayout.dimensions.height*o+"px"});break;default:h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer,{width:this.__currentLayout.dimensions.width+"px",height:this.__currentLayout.dimensions.height+"px","min-width":this.__currentLayout.dimensions.width+"px","min-height":this.__currentLayout.dimensions.height+"px"})}},y.prototype.setFixedTarget=function(e){var t=h.ValueConverter.toString(e);null===t&&(t=this.getAttributeDefaultValueInternal("FixedTarget")),t!==this.__fixedTarget&&(this.__fixedTarget=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getFixedTarget"]),this.__processFixedTarget())},y.prototype.getFixedTarget=function(){return this.__fixedTarget},y.prototype.__processFixedTarget=function(){if(""!==this.__fixedTarget){var e=h.Controls.get(this.__fixedTarget);void 0!==e?(this.__fixedTargetInputElements=e.getElement()[0].getElementsByTagName("input"),this.__fixedTargetTextareaElements=e.getElement()[0].getElementsByTagName("textarea")):(this.__fixedTargetInputElements=null,this.__fixedTargetTextareaElements=null)}else this.__fixedTargetInputElements=null,this.__fixedTargetTextareaElements=null},y.prototype.setReleaseStickyKeysManually=function(e){var t=h.ValueConverter.toBoolean(e);null===t&&(t=this.getAttributeDefaultValueInternal("ReleaseStickyKeysManually")),t!==this.__releaseStickyKeysManually&&(this.__releaseStickyKeysManually=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getReleaseStickyKeysManually"]),this.__processReleaseStickyKeysManually())},y.prototype.getReleaseStickyKeysManually=function(){return this.__releaseStickyKeysManually},y.prototype.__processReleaseStickyKeysManually=function(){},y.prototype.__raiseKeyPressStarted=function(t){var e,o=this.__interactedKeys.filter(function(e){return e.element===t})[0];if(e=void 0!==o?o.key:this.__getKey(t),!y.isLayoutSwitch(e)){for(var i=[],n=0,r=Math.min(e.code.length,e.key.length,e.location.length);n<r;n++)i.push({element:t,key:{code:e.code[n],key:e.key[n],unmodifiedKey:e.unmodifiedKey[n],location:y.KeyLocation[e.location[0]].toLowerCase()}});this.__pressedKeys=this.__pressedKeys.concat(i),h.EventProvider.raise(this.__id+".onKeyPressStarted",i),h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getPressedKeys"])}},y.prototype.__raiseKeyPressEnded=function(t,e){var o=this.__pressedKeys.filter(function(e){return e.element===t});0!==o.length&&(this.__pressedKeys=this.__pressedKeys.filter(function(e){return e.element!==t}),h.EventProvider.raise(this.__id+".onKeyPress"+e,o),h.EventProvider.raise(this.__id+".onKeyPressEnded",o),h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getPressedKeys"]))},y.prototype.getPressedKeys=function(){return this.__pressedKeys.map(function(e){return e.key})},y.prototype.setLongpressDelay=function(e){var t=h.ValueConverter.toNumber(e);null===t&&(t=this.getAttributeDefaultValueInternal("LongpressDelay")),t!==this.__longpressDelay&&(this.__longpressDelay=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLongpressDelay"]),this.__processLongpressDelay())},y.prototype.getLongpressDelay=function(){return this.__longpressDelay},y.prototype.__processLongpressDelay=function(){},y.prototype.setRepetitionDelay=function(e){var t=h.ValueConverter.toNumber(e);null===t&&(t=this.getAttributeDefaultValueInternal("RepetitionDelay")),t!==this.__repetitionDelay&&(this.__repetitionDelay=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRepetitionDelay"]),this.__processRepetitionDelay())},y.prototype.getRepetitionDelay=function(){return this.__repetitionDelay},y.prototype.__processRepetitionDelay=function(){},y.prototype.setKeyboardPadding=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("KeyboardPadding"));var o=this.__objectResolvers.get("keyboardPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("keyboardPadding",{resolver:i,watchCallback:this.__onResolverForKeyboardPaddingWatchCallback,watchDestroyer:i.watch(this.__onResolverForKeyboardPaddingWatchCallback)})},y.prototype.getKeyboardPadding=function(){return this.__keyboardPadding},y.prototype.__processKeyboardPadding=function(){h.StyleProvider.processContentPadding(this.__elementTemplateRoot,this.__keyboardPadding)},y.prototype.setKeyPadding=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("KeyPadding"));var o=this.__objectResolvers.get("keyPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("keyPadding",{resolver:i,watchCallback:this.__onResolverForKeyPaddingWatchCallback,watchDestroyer:i.watch(this.__onResolverForKeyPaddingWatchCallback)})},y.prototype.getKeyPadding=function(){return this.__keyPadding},y.prototype.__processKeyPadding=function(){var e=this.__elementPaddingContainer.find(".tchmi-keyboard-template-label"),t=["top","right","bottom","left"];if(this.__keyPadding)for(n=0,r=t.length;n<r;n++){var o=this.__keyPadding[t[n]],i=this.__keyPadding[t[n]+"Unit"]||"px";null==o?h.StyleProvider.setSimpleElementStyle(e,t[n],null):h.StyleProvider.setSimpleElementStyle(e,t[n],o+i)}else for(var n=0,r=t.length;n<r;n++)h.StyleProvider.setSimpleElementStyle(e,t[n],null)},y.prototype.setAdditionalKeyBackdropPadding=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("AdditionalKeyBackdropPadding"));var o=this.__objectResolvers.get("additionalKeyBackdropPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("additionalKeyBackdropPadding",{resolver:i,watchCallback:this.__onResolverForAdditionalKeyBackdropPaddingWatchCallback,watchDestroyer:i.watch(this.__onResolverForAdditionalKeyBackdropPaddingWatchCallback)})},y.prototype.getAdditionalKeyBackdropPadding=function(){return this.__additionalKeyBackdropPadding},y.prototype.__processAdditionalKeyBackdropPadding=function(){var e=$(".tchmi-keyboard-template-backdrop");h.StyleProvider.processContentPadding(e,this.__additionalKeyBackdropPadding),this.__additionalKeyBackdropPadding?h.StyleProvider.processTransform(e,{transformType:"Translate",x:-(this.__additionalKeyBackdropPadding.left||0),xUnit:this.__additionalKeyBackdropPadding.leftUnit||"px",y:-(this.__additionalKeyBackdropPadding.top||0),yUnit:this.__additionalKeyBackdropPadding.topUnit||"px"}):h.StyleProvider.processTransform(e,null)},y.prototype.setLabelFontSize=function(e){var t=h.ValueConverter.toNumber(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontSize")),t!==this.__labelFontSize&&(this.__labelFontSize=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelFontSize"]),this.__processLabelFontSize())},y.prototype.getLabelFontSize=function(){return this.__labelFontSize},y.prototype.__processLabelFontSize=function(){h.StyleProvider.processFontSize(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__labelFontSize,this.__labelFontSizeUnit)},y.prototype.setLabelFontSizeUnit=function(e){var t=h.ValueConverter.toFontSizeUnit(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontSizeUnit")),t!==this.__labelFontSizeUnit&&(this.__labelFontSizeUnit=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelFontSizeUnit"]),this.__processLabelFontSizeUnit())},y.prototype.getLabelFontSizeUnit=function(){return this.__labelFontSizeUnit},y.prototype.__processLabelFontSizeUnit=function(){this.__processLabelFontSize()},y.prototype.setLabelFontFamily=function(e){var t=h.ValueConverter.toString(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontFamily")),t!==this.__labelFontFamily&&(this.__labelFontFamily=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelFontFamily"]),this.__processLabelFontFamily())},y.prototype.getLabelFontFamily=function(){return this.__labelFontFamily},y.prototype.__processLabelFontFamily=function(){h.StyleProvider.processFontFamily(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__labelFontFamily)},y.prototype.setLabelFontStyle=function(e){var t=h.ValueConverter.toFontStyle(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontStyle")),t!==this.__labelFontStyle&&(this.__labelFontStyle=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelFontStyle"]),this.__processLabelFontStyle())},y.prototype.getLabelFontStyle=function(){return this.__labelFontStyle},y.prototype.__processLabelFontStyle=function(){h.StyleProvider.processFontStyle(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__labelFontStyle)},y.prototype.setLabelFontWeight=function(e){var t=h.ValueConverter.toFontWeight(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontWeight")),t!==this.__labelFontWeight&&(this.__labelFontWeight=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelFontWeight"]),this.__processLabelFontWeight())},y.prototype.getLabelFontWeight=function(){return this.__labelFontWeight},y.prototype.__processLabelFontWeight=function(){h.StyleProvider.processFontWeight(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__labelFontWeight)},y.prototype.setLabelStrokeThickness=function(e){var t=h.ValueConverter.toNumber(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelStrokeThickness")),t!==this.__labelStrokeThickness&&(this.__labelStrokeThickness=t,h.EventProvider.raise(this.__id+".onFunctionResultChanged",["getLabelStrokeThickness"]),this.__processLabelStrokeThickness())},y.prototype.getLabelStrokeThickness=function(){return this.__labelStrokeThickness},y.prototype.__processLabelStrokeThickness=function(){h.StyleProvider.setSimpleElementStyle(this.__elementPaddingContainer.find(".tchmi-keyboard-template-label svg"),"stroke-width",this.__labelStrokeThickness+"px")},y.prototype.setKeyBackgroundColor=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("KeyBackgroundColor"));var o=this.__objectResolvers.get("keyBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("keyBackgroundColor",{resolver:i,watchCallback:this.__onResolverForKeyBackgroundColorWatchCallback,watchDestroyer:i.watch(this.__onResolverForKeyBackgroundColorWatchCallback)})},y.prototype.getKeyBackgroundColor=function(){return this.__keyBackgroundColor},y.prototype.__processKeyBackgroundColor=function(){h.StyleProvider.processBackgroundColor(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__keyBackgroundColor)},y.prototype.setLabelColor=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelColor"));var o=this.__objectResolvers.get("labelColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("labelColor",{resolver:i,watchCallback:this.__onResolverForLabelColorWatchCallback,watchDestroyer:i.watch(this.__onResolverForLabelColorWatchCallback)})},y.prototype.getLabelColor=function(){return this.__labelColor},y.prototype.__processLabelColor=function(){h.StyleProvider.processTextColor(this.__elementPaddingContainer.find(".tchmi-keyboard-template-key"),this.__labelColor)},y.prototype.setLabelStrokeColor=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelStrokeColor"));var o=this.__objectResolvers.get("labelStrokeColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("labelStrokeColor",{resolver:i,watchCallback:this.__onResolverForLabelStrokeColorWatchCallback,watchDestroyer:i.watch(this.__onResolverForLabelStrokeColorWatchCallback)})},y.prototype.getLabelStrokeColor=function(){return this.__labelStrokeColor},y.prototype.__processLabelStrokeColor=function(){h.StyleProvider.processStrokeColor(this.__elementPaddingContainer.find(".tchmi-keyboard-template-label svg"),this.__labelStrokeColor)},y.prototype.setLabelFillColor=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFillColor"));var o=this.__objectResolvers.get("labelFillColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("labelFillColor",{resolver:i,watchCallback:this.__onResolverForLabelFillColorWatchCallback,watchDestroyer:i.watch(this.__onResolverForLabelFillColorWatchCallback)})},y.prototype.getLabelFillColor=function(){return this.__labelFillColor},y.prototype.__processLabelFillColor=function(){h.StyleProvider.processFillColor(this.__elementPaddingContainer.find(".tchmi-keyboard-template-label svg path"),this.__labelFillColor)},y.prototype.setAdditionalKeyBackdropColor=function(e){var t=h.ValueConverter.toObject(e);null===t&&(t=this.getAttributeDefaultValueInternal("AdditionalKeyBackdropColor"));var o=this.__objectResolvers.get("additionalKeyBackdropColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var i=new h.Symbol.ObjectResolver(t);this.__objectResolvers.set("additionalKeyBackdropColor",{resolver:i,watchCallback:this.__onResolverForAdditionalKeyBackdropColorWatchCallback,watchDestroyer:i.watch(this.__onResolverForAdditionalKeyBackdropColorWatchCallback)})},y.prototype.getAdditionalKeyBackdropColor=function(){return this.__additionalKeyBackdropColor},y.prototype.__processAdditionalKeyBackdropColor=function(){h.StyleProvider.processBackgroundColor(this.__elementPaddingContainer.find(".tchmi-keyboard-template-backdrop"),this.__additionalKeyBackdropColor)},d=y,t.TcHmiKeyboard=d,(o=d=t.TcHmiKeyboard||(t.TcHmiKeyboard={})).isLayoutSwitch=function(e){return e.type===n.LAYOUTSWITCH},(r=n=o.KeyType||(o.KeyType={}))[r.CHARACTER=0]="CHARACTER",r[r.MODIFIER=1]="MODIFIER",r[r.ACTION=2]="ACTION",r[r.EDIT=3]="EDIT",r[r.LAYOUTSWITCH=4]="LAYOUTSWITCH",(s=o.KeyMode||(o.KeyMode={}))[s.NORMAL=0]="NORMAL",s[s.STICKY=1]="STICKY",s[s.TOGGLE=2]="TOGGLE",(a=o.KeyLocation||(o.KeyLocation={}))[a.STANDARD=0]="STANDARD",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a[a.NUMPAD=3]="NUMPAD",(l=o.LongpressAction||(o.LongpressAction={}))[l.NONE=0]="NONE",l[l.REPEAT=1]="REPEAT",l[l.ADDITIONALKEYS=2]="ADDITIONALKEYS",l[l.LOCK=3]="LOCK",e.register("tchmi-keyboard",h.Controls.Beckhoff.TcHmiKeyboard,"Beckhoff/TcHmiKeyboard/","Beckhoff/TcHmiKeyboard/Template.html")}(TcHmi=TcHmi||{});